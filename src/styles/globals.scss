// stylelint-disable declaration-property-unit-whitelist
// stylelint-disable selector-max-id

@use 'sass:math';

@import 'node_modules/bootstrap/scss/functions';
@import 'node_modules/bootstrap/scss/mixins';

@import 'colors';

/* ==================== Bootstrap Overrides ==================== */

$font-family-sans-serif: source-sans-pro, sans-serif; /* Adobe Source Sans Pro */
$font-family-monospace: source-code-pro, monospace; /* Adobe Source Code Pro for code */
$font-family-base: $font-family-sans-serif;
$headings-font-family: $font-family-base;

$border-radius: 0.3125rem;
$border-radius-lg: 0.25rem;
$border-radius-sm: 0.1rem;

$font-weight-semibold: 600;
$font-weight-bold: $font-weight-semibold; /* uses Adobe Sans Pro Semi-bold */
$font-weight-bolder: 700; /* uses Adobe Sans Pro Bold */

$headings-font-weight: 700; /* uses Adobe Sans Pro Bold */

$input-btn-padding-y: 0.55rem;

@import 'node_modules/bootstrap/scss/variables';

/* Set variables that rely on Bootstrap variables. */
$spacer: 1rem;
$spacers: (
    0: 0,
    1: (
        $spacer * 0.25,
    ),
    2: (
        $spacer * 0.5,
    ),
    3: $spacer,
    4: (
        $spacer * 1.5,
    ),
    5: (
        $spacer * 2,
    ),
    6: (
        $spacer * 4,
    ),
    7: (
        $spacer * 6,
    ),
    8: (
        $spacer * 8,
    ),
);

$border-color: $gray-300;

$display1-size: 4rem;
$display2-size: 3.25rem;
$display3-size: 2.5rem;
$display4-size: 1.75rem;

$navbar-nav-link-padding-x: $spacer * 0.75;
$navbar-light-color: $dark;
$navbar-light-hover-color: $blurple;
$navbar-dark-color: $light;
$navbar-dark-hover-color: $blurple;

$nav-tabs-border-width: 0;

$btn-padding-x: 1.5rem;
$btn-font-weight: 600;

$input-bg: transparent;
$input-color: $dark-8;
$input-box-shadow: none;
$input-border-color: $blurple;
$input-border-width: 3px;
$input-focus-bg: $input-bg;
$input-focus-color: $dark-8;
$input-placeholder-color: $dark-8;
$input-focus-border-color: darken($component-active-bg, 25%);
$input-focus-box-shadow: none;

$list-group-action-hover-color: $link-hover-color;

$popover-arrow-width: 0;
$popover-arrow-color: transparent;
$popover-arrow-outer-color: transparent;
$popover-max-width: 400px;

$card-spacer-y: 1.25 * $spacer;
$card-spacer-x: 1.25 * $spacer;

$grid-gutter-width: 2rem;

:root {
    --body-color: #{$dark-8};
    --border-color: #{$border-color};
}

@import 'node_modules/bootstrap/scss/root';
@import 'node_modules/bootstrap/scss/reboot';
@import 'node_modules/bootstrap/scss/type';
@import 'node_modules/bootstrap/scss/grid';
@import 'node_modules/bootstrap/scss/forms';
@import 'node_modules/bootstrap/scss/button-group';
@import 'node_modules/bootstrap/scss/input-group';
@import 'node_modules/bootstrap/scss/buttons';
@import 'node_modules/bootstrap/scss/transitions';
@import 'node_modules/bootstrap/scss/nav';
@import 'node_modules/bootstrap/scss/navbar';
@import 'node_modules/bootstrap/scss/card';
@import 'node_modules/bootstrap/scss/media';
@import 'node_modules/bootstrap/scss/list-group';
@import 'node_modules/bootstrap/scss/tooltip';
@import 'node_modules/bootstrap/scss/popover';
@import 'node_modules/bootstrap/scss/utilities';
@import 'node_modules/bootstrap/scss/alert';
@import 'node_modules/bootstrap/scss/badge';
@import 'node_modules/bootstrap/scss/dropdown';
@import 'node_modules/bootstrap/scss/carousel';

/* ==================== Layout ==================== */

html,
body {
    -webkit-overflow-scrolling: touch;
}

.flex-1 {
    flex: 1;
}

body {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    background-color: $alabaster;
}

/* ==================== Icons ==================== */

.material-icons {
    margin-right: 4px;
    fill: currentColor;
}

/* Formats an icon so that it appears inline in the text with height matching the text */
.icon-inline {
    /* SVGs already include padding to account for text baseline,
     so align with the bottom of the text */
    vertical-align: bottom;
    display: inline-flex;
    align-items: center;
}
svg.icon-inline,
img.icon-inline,
.icon-inline svg,
.icon-inline img {
    /* TODO find a better way to scale icons that is not proportional to the font size
     14px font size -> 20px icon size */
    // stylelint-disable-next-line declaration-property-unit-whitelist
    width: (20em / 14);
    // stylelint-disable-next-line declaration-property-unit-whitelist
    height: (20em / 14);
    /* Match color of the text */
    fill: currentColor;
}

/* ==================== Tables ==================== */

table {
    width: 100%;
    max-width: 100%;
    margin-bottom: 1rem;
    background-color: transparent;
    border-collapse: collapse;
    border: 1px solid $light-gray-0;
}
table td,
table th {
    padding: 0.75rem;
    vertical-align: top;
    border: 1px solid $light-gray-1;
    background-color: $white;
}
table thead th {
    vertical-align: bottom;
    border-bottom: 1px solid $light-gray-1;
}
table tbody + tbody {
    border-top: 2px solid $light-gray-1;
}
table {
    background-color: $white;
}

/* ==================== BEM Pages/Components ==================== */

@import 'components/blog/BlogPost';
@import 'components/blog/LinkPost';
@import 'components/blog/PodcastPost';
@import 'components/blog/PostsList';
@import 'components/blog/ReleasePost';
@import 'components/content/ContentSection';
@import 'components/pricing/index';
@import 'components/product/CustomerLogosSection';
@import 'components/product/CustomerLogosSectionAnimated';
@import 'components/product/EventsSection';
@import 'components/product/GitLabIntegrationSection';
@import 'components/product/IntegratesWithSection';
@import 'components/product/UseCasesTable';
@import 'components/Cookiebot';
@import 'components/CustomCarousel';
@import 'components/Events';
@import 'components/SelfHostedSection';
@import 'components/Header';
@import 'components/Footer';
@import 'components/PrismTheme';
@import 'components/TemplateCodeBlock';
@import 'components/TestimonialCarousel';
@import 'components/Tweets';
@import 'pages/batch-changes';
@import 'pages/community';
@import 'pages/_case_studies';
@import 'pages/content';
@import 'pages/events';
@import 'pages/index';
@import 'pages/jobs';
@import 'pages/landing-page';
@import 'pages/podcast';
@import 'pages/pricing';
@import 'pages/product/code-search-navigation';
@import 'pages/product/code-change-management';
@import 'pages/universal-code-search';
@import 'templates/PostTemplate';
@import 'pages/code-insights';
@import 'gradients';
@import 'spacing';

/* ==================== Typography ==================== */

.font-size-base {
    font-size: $font-size-base !important;
}
.font-family-base {
    font-family: $font-family-base !important;
}
.font-size-medium {
    font-size: 1.2em;
    line-height: 1.95em;
}
.font-size-large {
    font-size: 4.5em;
    line-height: 1.25em;
}
.font-size-extra-large {
    font-size: 6em;
    line-height: 1.25em;
}
.text-normal {
    font-size: normal;
}
.text-sans-serif {
    font-family: $font-family-sans-serif;
}
.text-decoration-underline {
    text-decoration: underline;
    &:hover {
        text-decoration: none;
    }
}

/* ==================== Filters ==================== */
// TODO: After Tailwind migration this class can be deleted
.brightness-0 {
    filter: brightness(0);
}

/* ==================== Bootstrap Components ==================== */
.popover {
    /* Prevent a child element with non-rounded corners from extruding.
     overflow: hidden; */
    border: 0;
}

.popover-body {
    border: solid 1px $gray-200;
    box-shadow: rgba(0, 0, 0, 0.1) 0 0 9px 3px;
    background-color: $white;
}

.nav-tabs {
    font-weight: 600;
    font-size: 1.25em;
    border-bottom-width: 1px;
}

/* ==================== Misc ==================== */

.virtual-br::before {
    content: '\A';
}

.img-drop-shadow {
    max-width: calc(100% - 10px);
    max-height: 100vh;
    box-shadow: 0 4px 18px 0 #0000001a, 0 6px 20px 0 #00000017;
    margin: 40px auto;
    display: block;
    border-style: none;
}

code.border {
    background-color: $light-gray-3;
    font-size: 80%;
}

.list-spaced > li {
    margin-bottom: 1rem;
}

.blog-image {
    margin-top: 1rem;
    margin-bottom: 1rem;
    border: 1px solid var(--border-color);
    max-width: 100%;
}
