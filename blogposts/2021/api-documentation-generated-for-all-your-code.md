---
title: "Sneak peek: API documentation generated for all your code"
description: "Here's a sneak peek of our latest experiment to bring API documentation to all your code, generated by LSIF code intelligence data."
author: Stephen Gutekanst
authorUrl: https://slimsag.com
publishDate: 2021-07-22T10:00-07:00
tags: [blog, code, search, software, engineering, testing]
slug: api-documentation-for-all-your-code
heroImage: https://sourcegraphstatic.com/blog/api-docs/sourcegraph-api-docs.png
socialImage: https://sourcegraphstatic.com/blog/api-docs/sourcegraph-api-docs.png
published: true
---

At Sourcegraph, we have a small team working hard on a new experimental feature: API docs.

In order to build awesome code search we've built a global graph of code that has a deep, semantic understanding of the underlying code—which we represent as [LSIF code intelligence data](https://lsif.dev). Using Sourcegraph's LSIF code intelligence data, we can analyze your code and generate API documentation for all of it. We've started with Go code and intend to expand to more languages as we develop this feature. 

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/api-docs.png" alt="Sourcegraph's new API docs feature">
  <figcaption>API docs generated for the Go encoding/json package</figcaption>
</figure>

## Vision

If you develop in Go, Rust, or Zig you’re probably familiar with some sites that try to do this like [pkg.go.dev](https://pkg.go.dev), [docs.rs]([https://docs.rs](https://docs.rs)), etc. The benefit of Sourcegraph's API docs over these will in the future be:

* Surfacing usage examples from open source code.
* Providing a single tool that works across all code, using LSIF data to provide an experience tailored towards your languages of choice.
* Giving an amazing navigation and search experience.

## Try it (experimental)

Today, it's still in its very early stages—and only a few months into development. But you can try it out on Go code today:

- [Explore encoding/json code](https://sourcegraph.com/github.com/golang/go/-/docs/encoding/json)
- [Explore Go net/http code](https://sourcegraph.com/github.com/golang/go/-/docs/net/http)
- [Explore Sourcegraph backend code](https://sourcegraph.com/github.com/sourcegraph/sourcegraph/-/docs/cmd/frontend/backend)

Want to try it out on your own Go repositories? Tweet [@sourcegraph](https://twitter.com/sourcegraph) with your GitHub repository name and we'll set it up for you, or [follow our documentation]([https://docs.sourcegraph.com/code_intelligence/apidocs](https://docs.sourcegraph.com/code_intelligence/apidocs)).

## On by default, for everyone

The most important announcement here is that API docs is now an on-by-default experiment for everyone! You can begin trying it out on Sourcegraph.com as well as your own Sourcegraph instance.

<figure>
  <img height="200px" src="https://sourcegraphstatic.com/blog/api-docs/api-docs-button.png" alt="The new API Docs button on repository pages">
  <figcaption>Use the API docs button on any repository page to access API docs</figcaption>
</figure>

<figure>
  <img height="80px" src="https://sourcegraphstatic.com/blog/api-docs/welcome-prompt.png" alt="The new welcome prompt describing how to use API docs">
  <figcaption>Once you click it, you'll be greeted with information about how to get started</figcaption>
</figure>

### Understands the types of symbols, and uses iconography to communicate

API docs is built on code intelligence data, so it has a deep semantic understanding of symbols, their type information, whether they're deprecated, a function, variable, interface, etc., and the UI now communicates this information using icons:

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/symbols.gif" alt="A structured tree of symbols with type information to navigate a Go package">
  <figcaption>A structured tree of symbols with type information to navigate a Go package's documentation</figcaption>
</figure>

### A deep understanding of code

We're paying attention to the small details, and really tailoring API docs to each language.

At Sourcegraph, we use primarily Go and TypeScript—so we're starting by building an experience that Go developers will love, then we'll expand to more languages and build an experience that is really tailored to, and makes sense in the context of, the individual language.

One way we've enabled this is by allowing LSIF language indexers to emit data in the way they see fit. Sourcegraph merely renders it, indexes it, and adds a nice navigation experience.

<figure>
  <img src="https://sourcegraphstatic.com/blog/api-docs/url-hash-displays.gif" alt="Browser URL bar showing a URL and hash designed specifically for the Go language">
  <figcaption>The Go LSIF indexer chooses to display URL hashes in a way that makes sense specifically for Go, with a `Receiver.Method` format</figcaption>
</figure>

<figure>
  <img height="400px" src="https://sourcegraphstatic.com/blog/api-docs/symbol-types.gif" alt="Hovering over symbols and showing Sourcegraph's deep semantic understanding of type information">
  <figcaption>Hovering over symbols shows Sourcegraph's deep semantic understanding of type information, which you'll soon be able to search and filter based on.</figcaption>
</figure>

### Direct feedback

API docs is still very early in development, so we're making it as easy as possible to give feedback. In fact, we're making it possible to email feedback directly to the lead engineer (that's me) [stephen@sourcegraph.com](mailto:stephen@sourcegraph.com)—I'm eager to hear what you think!

We've also made it possible to submit feedback on the API docs pages themselves,and you can also send feedback to us via Twitter [@sourcegraph](https://twitter.com/sourcegraph).

<figure>
  <img height="400px" src="https://sourcegraphstatic.com/blog/api-docs/feedback-widget.png" alt="The new feedback widget with various emojis">
  <figcaption>Use the feedback widget on API docs pages, or directly email feedback to us!</figcaption>
</figure>

#### About the author

[Stephen Gutekanst](https://slimsag.com) is one of Sourcegraph's earliest engineers, and has authored many parts of Sourcegraph including _the `src` CLI_, m_onitoring architecture_, _managed instances_, and _editor extensions_ to name a few. Stephen has worked with most of Sourcegraph's largest customers, and enjoys solving the most critical and technically challenging issues users face in our effort to bring world-class developer tools to everyone. Outside of Sourcegraph, Stephen researches and develops search engine and video game technology.

_Special thanks to [Rebecca Dodd](https://about.sourcegraph.com/handbook/company/team#rebecca-dodd-she-her) and [Erica Lindberg](https://about.sourcegraph.com/handbook/company/team#erica-lindberg-she-her) for their help with the content of this article, and [Jean du Plessis](https://about.sourcegraph.com/handbook/company/team#jean-du-plessis-he-him) and the rest of the team for their assistance and feedback on API docs._

<style>
  figure .no-shadow { box-shadow: none; }
  .workingtable-highlight td { color: #ffffff; background-color: #005cb9; }

  figcaption {
    text-align: center;
    margin-top: -2rem;
    font-style: italic;
  }
</style>
