---
title: "Speeding up your Node.js development with Cody"
authors:
  - name: Oluwatobi Adedeji
    url: https://github.com/oluwatobiisaiah
  
publishDate: 2024-05-02T10:00-07:00
description: "In this article, we'll delve into how you can expedite the setup and development of your Node.js (Express.js) APIs using Sourcegraph Cody."
tags: [blog, guest-post]
slug: "speeding-up-your-nodejs-development-with-cody"
published: true
heroImage: https://storage.googleapis.com/sourcegraph-assets/blog/speeding-up-your-nodejs-development-with-cody/speeding-up-your-nodejs-development-with-cody-og.png
socialImage: https://storage.googleapis.com/sourcegraph-assets/blog/speeding-up-your-nodejs-development-with-cody/speeding-up-your-nodejs-development-with-cody-og.png
---

<Alert type="secondary">This is a guest blog post from our community. <a href="https://discord.com/servers/sourcegraph-969688426372825169" target="_blank">Join our Discord</a> to meet the author and connect with other developers passionate about Code Search and AI!</Alert>

Leveraging AI to accelerate your workflow as a software engineer is no longer considered a lazy approach; instead, it allows you to focus on more critical aspects of your work. In this article, we'll delve into how you can expedite the setup and development of your Node.js (Express.js) APIs using Sourcegraph Cody. Before we begin, let's briefly discuss what Node.js is.

## What is Node.js?

[Node.js](https://nodejs.org/en) is a JavaScript runtime environment that runs on the Chrome v8 JavaScript engine. In this article, we'll build our API using the Express.js framework and TypeScript.

## Setting up Express with the help of Cody

First, I create an `app.ts` file in the src folder (you can decide to use any folder structure of your choice) and I generate my `package.json` file with Cody, using the prompt:  

> Hey Cody, create a package.json content for my Express.js app using typescript with ts-node

Cody generates JSON content for me, which you can edit to your preference.

<Figure
  src="https://storage.googleapis.com/sourcegraph-assets/blog/speeding-up-your-nodejs-development-with-cody/image_001.png"
/>

To continue with the server setup, I also need to ask Cody to generate a simple Express server using this prompt:

> Hey Cody, can you generate a basic express server, that is exportable without .listen() for me?

and we have our basic app

<Figure
  src="https://storage.googleapis.com/sourcegraph-assets/blog/speeding-up-your-nodejs-development-with-cody/image_002.png"
/>

## Advanced set up

* **Bash Script**: Another setup that will really make you a productive dev is to write Bash scripts for repetitive tasks such as: creating controllers, routers, etc. In this case, I want to repetitively create controllers and routes for each module, I enter the prompt:

> Hey Cody, Generate a bash script that creates a file and takes flag or input to create files, e.g auth.controller.ts takes in the input such as "auth", it also generates router file in the same format in the folder named with the input name under the src folder

Hereâ€™s the Bash script Cody generated for me:

<Figure
  src="https://storage.googleapis.com/sourcegraph-assets/blog/speeding-up-your-nodejs-development-with-cody/image_003.png"
  caption="Bash script generated by Cody to create controller and router files"
/>

Cody generates my Bash script for me and then I add the `makecontroller` command to the scripts in the `package.json` file.  

`"makecontroller":"bash ./scripts/controllerMaker.sh"`

And you now run:

`npm run makecontroller`

This will allow you to generate controller and router files by running the Bash script via npm.

* **Error Handling Set Up**: While building APIs generally, error handling is one of the most crucial things to take into consideration. In Express.js, error handling can be handled using a global error handler for fatal errors in the app and before creating the global error handler, I need to create a custom error class that makes the JavaScript Error object more useful in our Express.js app. I prompted Cody:

> Hey Cody, can you generate a CustomAPIError class which extends the Error class, the constructor takes in code, message and optional status and the message can be inherited from the parent class?

Cody generated the `CustomAPIError` class and I added more functionality to the code:

```typescript
class CustomAPIError extends Error {
  public message: string;
  public code: number;
  public status?: string;
  constructor(message: string, code: number, status?: string) {
    super(message);
    this.code = code;
    this.status = status;
  }
}
const createCustomError = (message: string, code: number) => {
    return new CustomAPIError(message, code);
};
export {CustomAPIError,createCustomError};
```

With this, I can always call `createCustomError` function to create errors within my app. From here I can create a global error handler:

```typescript
import { Request, Response, NextFunction } from "express";
import { CustomAPIError } from "../../errors/customErrors";
export const globalErrorHandler = async (
    err: any,
    _: Request,
    res: Response,
    __: NextFunction
) => {
    return res
        .status(500)
        .json(
            {
                message: err instanceof CustomAPIError ? err.message : "Something went wrong,please try again later.",
                statusCode: err instanceof CustomAPIError ? err.code : 500,
                data: null,
            }
        );

};
```

The next thing is to create a handler for 404 (Not Found) error, prompting Cody:

> Can you create a handler that handles 404 error in my Express.js server?

and my 404 handler as shown below:

```typescript
import { RequestHandler } from "express";

export const notFound: RequestHandler = (req, res) => {
  return res.status(404).json({
    statusCode: 404,
    message: "This path exists somewhere in space time but not here",
    data: null,
  });
};
```

## Documenting your code with Cody

Documentation is an important aspect of software engineering, although it is always advisable to write self-documenting code, but there are times we still need to document code. In my sample Express.js app, I created a custom error class, which may or may not be strange to anyone new to the codebase, thanks to Cody once again; I can generate docs for my code, using <kbd>cmd/Alt</kbd> + <kbd>D</kbd> (In VS Code), and here are the docs generated by Cody:

<Figure
  src="https://storage.googleapis.com/sourcegraph-assets/blog/speeding-up-your-nodejs-development-with-cody/image_004.png"
/>

## Writing unit tests with Cody

Unit testing is another important part of software engineering, that can take time and sometimes can be boring again Cody can help generate unit tests, here's how:

On the left side of VS Code in the Cody tab, you see "[Generate Unit Test](https://sourcegraph.com/docs/cody/use-cases/generate-unit-tests)" and Cody generates a Unit test for my controller as shown:

<Figure
  src="https://storage.googleapis.com/sourcegraph-assets/blog/speeding-up-your-nodejs-development-with-cody/image_005.png"
  caption="Other use cases Cody in speeding up your Node.js development"
/>

Cody's capabilities transcend beyond generating codes. It's a very powerful tool that can be used to improve your codebase using the "Find Code Smell" feature. Here's a review I got from Cody for my custom error class.

<Figure
  src="https://storage.googleapis.com/sourcegraph-assets/blog/speeding-up-your-nodejs-development-with-cody/image_006.png"
/>

Beyond, all the examples that have been mentioned in this article Cody can be seen as your productivity buddy; making your setup and development process faster and you get to spend more time on business logic while building your Express.js app. So, go ahead and unleash Cody's prowess, and watch as your developer experience and productivity scale high.

---

Cody can help you code faster, improve your productivity, and unlock new knowledge. Give [Cody](https://sourcegraph.com/cody) a try today!
