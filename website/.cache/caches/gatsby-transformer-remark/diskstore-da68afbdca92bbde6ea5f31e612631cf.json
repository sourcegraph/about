{"expireTime":9007200905229170000,"key":"transformer-remark-markdown-html-ast-5839dbcd08a7522c2f6745e0dc41f8e5-gatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-unwrap-imagesgatsby-remark-imagesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"raw","value":"<p class=\"tc\"><img alt=\"Docker Logo\" src=\"https://images.ctfassets.net/le3mxztn6yoo/1LMHTsJzjOwOweIoUmMk2i/2ff8fd218923eda3f0e32f81cec6016f/Docker-logo-011.png\" class=\"h5\"></p>","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":177,"offset":177}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Docker announced that the Docker Hub and Docker Store (backed by the same Docker Registry) ","position":{"start":{"line":4,"column":1,"offset":179},"end":{"line":4,"column":92,"offset":270}}},{"type":"element","tagName":"a","properties":{"href":"https://success.docker.com/article/planned-downtime-on-hub-cloud-store"},"children":[{"type":"text","value":"will be down","position":{"start":{"line":4,"column":93,"offset":271},"end":{"line":4,"column":105,"offset":283}}}],"position":{"start":{"line":4,"column":92,"offset":270},"end":{"line":4,"column":178,"offset":356}}},{"type":"text","value":" (totally offline) from ","position":{"start":{"line":4,"column":178,"offset":356},"end":{"line":4,"column":202,"offset":380}}},{"type":"element","tagName":"a","properties":{"href":"https://everytimezone.com/#2018-8-25,-1080,b8jj"},"children":[{"type":"text","value":"11:00 Pacific Time","position":{"start":{"line":4,"column":203,"offset":381},"end":{"line":4,"column":221,"offset":399}}}],"position":{"start":{"line":4,"column":202,"offset":380},"end":{"line":4,"column":271,"offset":449}}},{"type":"text","value":" 25 August with 15-45 minutes (expected) downtime.","position":{"start":{"line":4,"column":271,"offset":449},"end":{"line":4,"column":321,"offset":499}}}],"position":{"start":{"line":4,"column":1,"offset":179},"end":{"line":4,"column":321,"offset":499}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You may be thinking “I use Kubernetes, doesn’t this only affect people executing ","position":{"start":{"line":6,"column":1,"offset":501},"end":{"line":6,"column":82,"offset":582}}},{"type":"raw","value":"<code class=\"language-text\">docker image pull</code>","position":{"start":{"line":6,"column":82,"offset":582},"end":{"line":6,"column":101,"offset":601}}},{"type":"text","value":"? Well yes, but that is what Kubernetes does when it doesn’t find a requested image locally.","position":{"start":{"line":6,"column":101,"offset":601},"end":{"line":6,"column":193,"offset":693}}}],"position":{"start":{"line":6,"column":1,"offset":501},"end":{"line":6,"column":193,"offset":693}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Below is the advice we’ve given our customers to help them work around the outage and we encourage you to share this with anyone who uses Kubernetes to help them have an incident and outage free weekend.","position":{"start":{"line":8,"column":1,"offset":695},"end":{"line":8,"column":204,"offset":898}}}],"position":{"start":{"line":8,"column":1,"offset":695},"end":{"line":8,"column":204,"offset":898}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"Check-your-imagePullPolicy","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#Check-your-imagePullPolicy","aria-label":"Check your imagePullPolicy permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]},{"type":"text","value":"Check your imagePullPolicy","position":{"start":{"line":10,"column":4,"offset":903},"end":{"line":10,"column":30,"offset":929}}}],"position":{"start":{"line":10,"column":1,"offset":900},"end":{"line":10,"column":30,"offset":929}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We use the imagePullPolicy ","position":{"start":{"line":11,"column":1,"offset":930},"end":{"line":11,"column":28,"offset":957}}},{"type":"element","tagName":"a","properties":{"href":"https://kubernetes.io/docs/concepts/configuration/overview/#container-images"},"children":[{"type":"text","value":"default value","position":{"start":{"line":11,"column":29,"offset":958},"end":{"line":11,"column":42,"offset":971}}}],"position":{"start":{"line":11,"column":28,"offset":957},"end":{"line":11,"column":121,"offset":1050}}},{"type":"text","value":" (IfNotPresent), meaning the image will not be pulled if available locally.","position":{"start":{"line":11,"column":121,"offset":1050},"end":{"line":11,"column":196,"offset":1125}}}],"position":{"start":{"line":11,"column":1,"offset":930},"end":{"line":11,"column":196,"offset":1125}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"Avoid-changing-the-state-of-the-Kubernetes-cluster","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#Avoid-changing-the-state-of-the-Kubernetes-cluster","aria-label":"Avoid changing the state of the Kubernetes cluster permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]},{"type":"text","value":"Avoid changing the state of the Kubernetes cluster","position":{"start":{"line":13,"column":4,"offset":1130},"end":{"line":13,"column":54,"offset":1180}}}],"position":{"start":{"line":13,"column":1,"offset":1127},"end":{"line":13,"column":54,"offset":1180}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The idea is to not give a Kubernetes worker node a reason to pull an image from Docker Hub.","position":{"start":{"line":14,"column":1,"offset":1181},"end":{"line":14,"column":92,"offset":1272}}}],"position":{"start":{"line":14,"column":1,"offset":1181},"end":{"line":14,"column":92,"offset":1272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"While this is somewhat out of our control (if a node dies), we recommend to:","position":{"start":{"line":16,"column":1,"offset":1274},"end":{"line":16,"column":77,"offset":1350}}}],"position":{"start":{"line":16,"column":1,"offset":1274},"end":{"line":16,"column":77,"offset":1350}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"avoid making changes to the Kubernetes worker nodes","position":{"start":{"line":18,"column":4,"offset":1355},"end":{"line":18,"column":55,"offset":1406}}}],"position":{"start":{"line":18,"column":1,"offset":1352},"end":{"line":18,"column":55,"offset":1406}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"avoid adding or removing worker nodes","position":{"start":{"line":19,"column":4,"offset":1410},"end":{"line":19,"column":41,"offset":1447}}}],"position":{"start":{"line":19,"column":1,"offset":1407},"end":{"line":19,"column":41,"offset":1447}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"avoid changing deploys which may require different image versions","position":{"start":{"line":20,"column":4,"offset":1451},"end":{"line":20,"column":69,"offset":1516}}}],"position":{"start":{"line":20,"column":1,"offset":1448},"end":{"line":20,"column":69,"offset":1516}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"avoid scaling the number of Pods in a deployment","position":{"start":{"line":21,"column":4,"offset":1520},"end":{"line":21,"column":52,"offset":1568}}}],"position":{"start":{"line":21,"column":1,"offset":1517},"end":{"line":21,"column":52,"offset":1568}}},{"type":"text","value":"\n"}],"position":{"start":{"line":18,"column":1,"offset":1352},"end":{"line":21,"column":52,"offset":1568}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This reduces the chances of Kubernetes re-scheduling Pods onto different worker nodes (where the required image may not have been downloaded) and hence, triggering a pull from Docker Hub.","position":{"start":{"line":23,"column":1,"offset":1570},"end":{"line":23,"column":188,"offset":1757}}}],"position":{"start":{"line":23,"column":1,"offset":1570},"end":{"line":23,"column":188,"offset":1757}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"Outages-happen-all-you-can-do-is-be-prepared","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#Outages-happen-all-you-can-do-is-be-prepared","aria-label":"Outages happen all you can do is be prepared permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]},{"type":"text","value":"Outages happen, all you can do is be prepared","position":{"start":{"line":25,"column":4,"offset":1762},"end":{"line":25,"column":49,"offset":1807}}}],"position":{"start":{"line":25,"column":1,"offset":1759},"end":{"line":25,"column":49,"offset":1807}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We hope this post has given you some ideas about how you can limit the impact the Docker Hub outage has on your Kubernetes and Docker deployments.","position":{"start":{"line":26,"column":1,"offset":1808},"end":{"line":26,"column":147,"offset":1954}}}],"position":{"start":{"line":26,"column":1,"offset":1808},"end":{"line":26,"column":147,"offset":1954}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We know this must be a stressful operation for Docker’s Ops folks and we wish them all the best!","position":{"start":{"line":28,"column":1,"offset":1956},"end":{"line":28,"column":97,"offset":2052}}}],"position":{"start":{"line":28,"column":1,"offset":1956},"end":{"line":28,"column":97,"offset":2052}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":29,"column":1,"offset":2053}}}}