{"expireTime":9007200905229171000,"key":"transformer-remark-markdown-html-e8563d5655413f84a36af33d7c074d6c-gatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-unwrap-imagesgatsby-remark-imagesgatsby-remark-smartypants-","val":"<p>Explore, navigate, and better understand all code, everywhere, faster with Sourcegraph Universal Code Search. Uber, Lyft, Yelp, and other enterprises rely on Sourcegraph to improve developer productivity and manage large-scale code changes.</p>\n<div style=\"padding-left: 2rem\">\n<p><a href=\"#campaigns-beta-available-to-all-site-admins\"><strong>📣 Campaigns beta available to all site admins</strong></a><br /></p>\n<p><a href=\"#faster-syncing-of-github-repository-permissions\"><strong>🔑 Faster syncing of GitHub repository permissions</strong></a><br /></p>\n<p><a href=\"#experimental-andor-operators-for-search-contents\"><strong>🔎 Experimental AND/OR operators for search contents</strong></a><br /></p>\n<p><a href=\"#improved-observability\"><strong>📈 Improved observability</strong></a><br /></p>\n<p><a href=\"#new-visibility-filter-for-scoping-searches-to-public-or-private-repositories\"><strong>👀 New visibility filter for scoping searches to public or private repositories</strong></a><br /></p>\n<p><a href=\"#getting-started-prompt-contains-more-context\"><strong>🏁 Getting started prompt contains more context</strong></a><br /></p>\n<p><a href=\"#extension-and-code-intelligence-ui-improvements\"><strong>🧩 Extension and code intelligence UI improvements</strong></a><br /></p>\n<p><a href=\"#user-event-logs-available-in-user-settings\"><strong>⚙️ User event logs available in user settings</strong></a><br /></p>\n<p><a href=\"#experimental-deterministic-search-results\"><strong>🧪 Experimental deterministic search results</strong></a><br /></p>\n<p><a href=\"#setting-to-include-forked-and-archived-repositories\"><strong>🍴 Setting to include forked and archived repositories</strong></a><br /></p>\n<p><a href=\"#deploy-sourcegraph-behind-a-proxy\"><strong>🔒 Deploy Sourcegraph behind a proxy</strong></a><br /></p>\n<p><a href=\"#changelog\"><strong>📝 Changelog</strong></a><br />\nEvery detail that changed in this release</p>\n<p><a href=\"#thank-you\"><strong>🎖️ Thank you</strong></a><br />\nSourcegraph couldn’t be what it is without the community.</p>\n</div>\n<p><strong>Deploy or upgrade:</strong> <a href=\"https://docs.sourcegraph.com/#quickstart-guide\">Local</a> | <a href=\"https://github.com/sourcegraph/deploy-sourcegraph-aws\">AWS</a> | <a href=\"https://marketplace.digitalocean.com/apps/sourcegraph?action=deploy&#x26;refcode=48dfb3ccb51c\">DigitalOcean</a> | <a href=\"https://github.com/sourcegraph/deploy-sourcegraph\">Kubernetes cluster</a></p>\n<hr>\n<p>Go in-depth with the 3.15 release by watching the recorded livestream with Product Manager <a href=\"https://twitter.com/christina4nee\">Christina Forney</a> and CTO <a href=\"https://twitter.com/beyang\">Beyang Liu</a>.</p>\n<p class=\"container\">\n  <div style=\"padding:56.25% 0 0 0;position:relative;\">\n    <iframe src=\"https://www.youtube-nocookie.com/embed/EJ221hdssDw\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n  </div>\n</p>\n<p><strong>NOTE</strong>: Sourcegraph site admins should definitely check out <a href=\"https://youtu.be/EJ221hdssDw?t=507\">Beyang discussing improvements to monitoring, observability, and alerting</a>.</p>\n<hr>\n<h2 id=\"Campaigns-beta-available-to-all-site-admins\" style=\"position:relative;\"><a href=\"#Campaigns-beta-available-to-all-site-admins\" aria-label=\"Campaigns beta available to all site admins permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Campaigns beta available to all site admins</h2>\n<p class=\"container\">\n  <div style=\"padding:56.25% 0 0 0;position:relative;\">\n    <iframe src=\"https://www.youtube-nocookie.com/embed/ju0XEFU31W0\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n  </div>\n  <p style=\"text-align: center\"><a href=\"https://youtu.be/ju0XEFU31W0\" target=\"_blank\">View on YouTube</a></p>\n</p>\n<p>Campaigns are available for general use in beta by any Sourcegraph instance admin. Users of Sourcegraph.com will need to run a private Sourcegraph instance with their repositories added to try running campaigns on their code. Sourcegraph admins can enable campaigns on their instance by adding <code class=\"language-text\">{&quot;experimentalFeatures&quot;: { &quot;automation&quot;: &quot;enabled&quot; }}”</code> to their site configuration settings.</p>\n<p>We are excited to hear about the campaigns you run, answer questions you have, and hear your feedback! Get in touch on Twitter <a href=\"https://twitter.com/sourcegraph\">@sourcegraph</a>, file an issue in our <a href=\"https://github.com/sourcegraph/sourcegraph/issues\">public issue tracker</a>, or email <a href=\"mailto:feedback@sourcegraph.com\">feedback@sourcegraph.com</a>.</p>\n<p>Campaigns are currently in beta. During the beta period, campaigns are free to use. After the beta period, campaigns will be available as a paid add-on. Please <a href=\"mailto:sales@sourcegraph.com\">contact us</a> for more information.</p>\n<h2 id=\"Faster-syncing-of-GitHub-repository-permissions\" style=\"position:relative;\"><a href=\"#Faster-syncing-of-GitHub-repository-permissions\" aria-label=\"Faster syncing of GitHub repository permissions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Faster syncing of GitHub repository permissions</h2>\n<p>Sourcegraph 3.15 adds faster repository permissions syncing at scale for GitHub. This functionality was previously <a href=\"https://about.sourcegraph.com/blog/sourcegraph-3.14#faster-syncing-of-gitlab-and-bitbucket-server-repository-permissions\">introduced for GitLab and Bitbucket Server</a> in Sourcegraph 3.14. Rather than syncing a user’s permissions when they log in and potentially blocking them from seeing search results, Sourcegraph syncs these permissions asynchronously in the background, opportunistically refreshing them in a timely manner. See the <a href=\"https://docs.sourcegraph.com/admin/repo/permissions#background-permissions-syncing\">documentation for more details</a>.</p>\n<p>Enable this feature by adding <code class=\"language-text\">&quot;permissions.backgroundSync&quot;: {&quot;enabled&quot;: true}</code> in your site configuration settings.</p>\n<h2 id=\"Experimental-ANDOR-operators-for-search-contents\" style=\"position:relative;\"><a href=\"#Experimental-ANDOR-operators-for-search-contents\" aria-label=\"Experimental ANDOR operators for search contents permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Experimental AND/OR operators for search contents</h2>\n<p class=\"container\">\n  <div style=\"padding:56.25% 0 0 0;position:relative;\">\n    <iframe src=\"https://www.youtube-nocookie.com/embed/PAsZP6wv3Gg\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n  </div>\n  <p style=\"text-align: center\"><a href=\"https://youtu.be/PAsZP6wv3Gg\" target=\"_blank\">View on YouTube</a></p>\n</p>\n<p>Search for file contents using AND and OR expressions in queries. These operators enable more expressive searches in regexp and structural search modes. <a href=\"https://docs.sourcegraph.com/code_search/reference/queries#operators\">The documentation</a> includes more details about how to these operators and their precedence and grouping.</p>\n<p>For example, if you want to find all of the places where two functions are within the same file, you can use the AND operator: <code class=\"language-text\">conf.Get( and log15.Error(</code> — <a href=\"https://sourcegraph.com/search?q=repo:%5Egithub%5C.com/sourcegraph/sourcegraph%24+conf.Get%28+and+log15.Error%28&#x26;patternType=regexp\">see example query results</a>.</p>\n<p>Or, if you want to find everywhere two functions are used whether or not the other is present, you would use the OR operator: <code class=\"language-text\">conf.Get( or log15.Error(</code> — <a href=\"https://sourcegraph.com/search?q=repo:%5Egithub%5C.com/sourcegraph/sourcegraph%24+conf.Get%28+or+log15.Error%28&#x26;patternType=regexp\">see example query results</a>.</p>\n<p>You can even use them together: <code class=\"language-text\">(&quot;conf.Get(&quot; or &quot;log15.Error(&quot;) and after</code> — <a href=\"https://sourcegraph.com/search?q=repo:%5Egithub%5C.com/sourcegraph/sourcegraph%24+%28%22conf.Get%28%22+or+%22log15.Error%28%22%29+and+after&#x26;patternType=regexp\">see example query results</a>.</p>\n<p>Currently, operators only support searching file contents and do not apply to search scopes - you will see an alert if your query is not supported.</p>\n<p>Enable this feature by adding <code class=\"language-text\">{&quot;experimentalFeatures&quot;: {&quot;andOrQuery&quot;: &quot;enabled&quot;}}</code> to site configuration settings.</p>\n<h2 id=\"Improved-observability\" style=\"position:relative;\"><a href=\"#Improved-observability\" aria-label=\"Improved observability permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Improved observability</h2>\n<p>We continue to invest heavily in making Sourcegraph easier to monitor and debug out-of-the-box.</p>\n<h3 id=\"Monitoring\" style=\"position:relative;\"><a href=\"#Monitoring\" aria-label=\"Monitoring permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Monitoring</h3>\n<ul>\n<li><strong>Sourcegraph now has pre-defined alerts for 93 metrics across 14 services for improved monitoring.</strong> For now, these new alerts are warning-level alerts. In the future, they will be elevated to critical-level alerts when there is more confidence in their accuracy.</li>\n<li>8 bug fixes to alerting and dashboards.</li>\n<li>11 changes to improve the legibility and visibility of dashboards.</li>\n</ul>\n<p>Additionally:</p>\n<ul>\n<li>All dashboard panels now show an orange/red background when a metric is reaching its warning/critical threshold, making it easy to see which metrics are most interesting.</li>\n<li>\n<p>Search error rate and latency is now broken down by type on the frontend dashboard:</p>\n<ul>\n<li>Search at a glance (browser web UI).</li>\n<li>Search-based code intelligence at a glance.</li>\n<li>Search API usage at a glance.</li>\n</ul>\n</li>\n</ul>\n<p><strong>IMPORTANT:</strong> If you have previously configured alert thresholds on the frontend dashboard manually (instead of on the Grafana home dashboard as typically recommended), you will need to reconfigure those alert thresholds again after upgrading.</p>\n<img src=\"https://user-images.githubusercontent.com/3173176/79792360-9e2b4d80-8303-11ea-91e5-cb7e9c972358.png\" alt=\"image\">\n<h3 id=\"Debugging\" style=\"position:relative;\"><a href=\"#Debugging\" aria-label=\"Debugging permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Debugging</h3>\n<p>We’ve added a new tool to all Sourcegraph deployments by default: Distributed tracing. It is a powerful tool for investigating performance issues. You can enable tracing selectively per-request and capture detailed information about, for example, a search request which can then easily be inspected to find out what the slowest parts were within the inner-workings of Sourcegraph.</p>\n<p>To use tracing, please see our <a href=\"https://docs.sourcegraph.com/admin/observability/tracing\">documentation</a>.</p>\n<p>Additionally, it is now possible to log all search and GraphQL requests slower than N milliseconds, using the new site configuration options <code class=\"language-text\">observability.logSlowGraphQLRequests</code> and <code class=\"language-text\">observability.logSlowSearches</code>. When Sourcegraph’s monitoring (or your instances’ users) inform you that queries are slow, this allows you to see the exact details of the search or GraphQL request needed to reproduce it.</p>\n<h2 id=\"New-visibility-filter-for-scoping-searches-to-public-or-private-repositories\" style=\"position:relative;\"><a href=\"#New-visibility-filter-for-scoping-searches-to-public-or-private-repositories\" aria-label=\"New visibility filter for scoping searches to public or private repositories permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>New visibility filter for scoping searches to public or private repositories</h2>\n<p class=\"container\">\n  <div style=\"padding:56.25% 0 0 0;position:relative;\">\n    <iframe src=\"https://www.youtube-nocookie.com/embed/Q2ZWPwMmbOI\" style=\"position:absolute;top:0;left:0;width:100%;height:100%;\" frameborder=\"0\" webkitallowfullscreen=\"\" mozallowfullscreen=\"\" allowfullscreen=\"\"></iframe>\n  </div>\n  <p style=\"text-align: center\"><a href=\"https://youtu.be/Q2ZWPwMmbOI\" target=\"_blank\">View on YouTube</a></p>\n</p>\n<p>The new <code class=\"language-text\">visibility:</code> search scope enables filtering based on a repository’s shared state on the code host. Scope options include any, public, or private, and defaults to <code class=\"language-text\">visibility:any</code> when the scope is not specified.</p>\n<h2 id=\"Getting-started-prompt-contains-more-context\" style=\"position:relative;\"><a href=\"#Getting-started-prompt-contains-more-context\" aria-label=\"Getting started prompt contains more context permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Getting started prompt contains more context</h2>\n<img src=\"/blog/3-15-getting-started.png\" alt=\"Getting started with more context\">\n<p>When using Sourcegraph for the first time on a private instance, a getting started section is shown to help admins and users make sure their Sourcegraph instance is properly configured, and that they know how to perform a search. The getting started steps now include more context about how to complete each step.</p>\n<h2 id=\"Extension-and-code-intelligence-UI-improvements\" style=\"position:relative;\"><a href=\"#Extension-and-code-intelligence-UI-improvements\" aria-label=\"Extension and code intelligence UI improvements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Extension and code intelligence UI improvements</h2>\n<img src=\"https://user-images.githubusercontent.com/10532611/79908315-50a20400-841b-11ea-9311-66030a2fd64f.gif\" alt=\"Extension UI improvements\">\n<p>Even small things can have a large impact on user experience, and we are working on improving how users interact with Sourcegraph. For this release, we cleaned up the design of buttons contributed by <a href=\"https://docs.sourcegraph.com/extensions\">extensions</a> in the Sourcegraph webapp and on code host <a href=\"https://docs.sourcegraph.com/integration\">integrations</a>. In addition, we reworked our logic for when we display loading indicators in hover tooltips that sometimes caused tooltips to not show up reliably. These changes provide a more consistent experience with visual elements and component interactions.</p>\n<h2 id=\"User-event-logs-available-in-user-settings\" style=\"position:relative;\"><a href=\"#User-event-logs-available-in-user-settings\" aria-label=\"User event logs available in user settings permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>User event logs available in user settings</h2>\n<img src=\"/blog/3-15-user-event-log.png\" alt=\"user event log\">\n<p>Users and site administrators can now view a log of their actions/events in user settings. This enables site admins to perform rough audits of users and also helps users better understand the information Sourcegraph logs.</p>\n<h2 id=\"Experimental-deterministic-search-results\" style=\"position:relative;\"><a href=\"#Experimental-deterministic-search-results\" aria-label=\"Experimental deterministic search results permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Experimental deterministic search results</h2>\n<p>A new experimental search scope <code class=\"language-text\">stable:true</code> has been added to provide results with a deterministic search result order. This search scope only applies to file contents and is limited to 5,000 maximum results. You should consider using the paginated search API if you need more than 5,000 results.</p>\n<h2 id=\"Setting-to-include-forked-and-archived-repositories\" style=\"position:relative;\"><a href=\"#Setting-to-include-forked-and-archived-repositories\" aria-label=\"Setting to include forked and archived repositories permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Setting to include forked and archived repositories</h2>\n<p>Sourcegraph 3.14 removed archived and forked repositories from search results by default. While this was an improvement to most users, some organizations have a configuration that necessitates searching these repositories. Sourcegraph 3.15 enables those organizations to add a global setting to their instance to always include forks or archived repositories in searches. Enable this in global, organization, or user settings with <code class=\"language-text\">&quot;search.includeForks&quot;: true</code> or <code class=\"language-text\">&quot;search.includeArchived&quot;: true</code> respectively.</p>\n<h2 id=\"Deploy-Sourcegraph-behind-a-proxy\" style=\"position:relative;\"><a href=\"#Deploy-Sourcegraph-behind-a-proxy\" aria-label=\"Deploy Sourcegraph behind a proxy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Deploy Sourcegraph behind a proxy</h2>\n<p>For organizations that need to run Sourcegraph behind a proxy, <code class=\"language-text\">git fetch</code> and <code class=\"language-text\">git clone</code> now inherit the parent process environment variables. This allows site admins to set HTTPS_PROXY or <a href=\"https://git-scm.com/docs/git-config/2.26.0#Documentation/git-config.txt-httpproxy\">git http configurations</a> via environment variables. For cluster environments, site admins should set this on the gitserver container.</p>\n<h2 id=\"Changelog\" style=\"position:relative;\"><a href=\"#Changelog\" aria-label=\"Changelog permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Changelog</h2>\n<h3 id=\"Added\" style=\"position:relative;\"><a href=\"#Added\" aria-label=\"Added permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Added</h3>\n<ul>\n<li>Users and site administrators can now view a log of their actions/events in the user settings. <a href=\"https://github.com/sourcegraph/sourcegraph/pull/9141\">#9141</a></li>\n<li>With the new <code class=\"language-text\">visibility:</code> filter, search results can now be filtered based on a repository’s visibility (possible filter values: <code class=\"language-text\">any</code>, <code class=\"language-text\">public</code> or <code class=\"language-text\">private</code>). <a href=\"https://github.com/sourcegraph/sourcegraph/issues/8344\">#8344</a></li>\n<li><a href=\"https://sourcegraph.com/extensions/sourcegraph/git-extras\"><code class=\"language-text\">sourcegraph/git-extras</code></a> is now enabled by default on new instances. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/3501\">#3501</a></li>\n<li>The Sourcegraph Docker image will now copy <code class=\"language-text\">/etc/sourcegraph/gitconfig</code> to <code class=\"language-text\">$HOME/.gitconfig</code>. This is a convenience similiar to what we provide for <a href=\"https://docs.sourcegraph.com/admin/repo/auth\">repositories that need HTTP(S) or SSH authentication</a>. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/658\">#658</a></li>\n<li>Permissions background syncing is now supported for GitHub via site configuration <code class=\"language-text\">&quot;permissions.backgroundSync&quot;: {&quot;enabled&quot;: true}</code>. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/8890\">#8890</a></li>\n<li>Search: Adding <code class=\"language-text\">stable:true</code> to a query ensures a deterministic search result order. This is an experimental parameter. It applies only to file contents, and is limited to max. 5,000 results (consider using <a href=\"https://docs.sourcegraph.com/api/graphql/search#sourcegraph-3-9-experimental-paginated-search\">the paginated search API</a> if you need more than that.). <a href=\"https://github.com/sourcegraph/sourcegraph/pull/9681\">#9681</a>.</li>\n<li>After completing the Sourcegraph user feedback survey, a button may appear for tweeting this feedback at <a href=\"https://twitter.com/sourcegraph\">@sourcegraph</a>. <a href=\"https://github.com/sourcegraph/sourcegraph/pull/9728\">#9728</a></li>\n<li><code class=\"language-text\">git fetch</code> and <code class=\"language-text\">git clone</code> now inherit the parent process environment variables. This allows site admins to set <code class=\"language-text\">HTTPS_PROXY</code> or <a href=\"https://git-scm.com/docs/git-config/2.26.0#Documentation/git-config.txt-httpproxy\">git http configurations</a> via environment variables. For cluster environments, site admins should set this on the gitserver container. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/250\">#250</a></li>\n<li>Experimental: Search for file contents using <code class=\"language-text\">and</code>- and <code class=\"language-text\">or</code>-expressions in queries. This is enabled via the global settings value <code class=\"language-text\">{&quot;experimentalFeatures&quot;: {&quot;andOrQuery&quot;: &quot;enabled&quot;}}</code>. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/8567\">#8567</a></li>\n<li>Always include forks or archived repositories in searches via the global/org/user settings with <code class=\"language-text\">&quot;search.includeForks&quot;: true</code> or <code class=\"language-text\">&quot;search.includeArchived&quot;: true</code> respectively. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9927\">#9927</a></li>\n<li>Observability (debugging): It is now possible to log all search and GraphQL requests slower than N milliseconds, using the new site configuration options <code class=\"language-text\">observability.logSlowGraphQLRequests</code> and <code class=\"language-text\">observability.logSlowSearches</code>.</li>\n<li>\n<p>Observability (monitoring): <strong>More metrics monitored and alerted on, more legible dashboards</strong></p>\n<ul>\n<li>Dashboard panels now show an orange/red background color when the defined warning/critical alert threshold has been met, making it even easier to see what is in a bad state on a dashboard.</li>\n<li>Symbols: Failing <code class=\"language-text\">symbols</code> -> <code class=\"language-text\">frontend-internal</code> requests are now monitored. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9732\">#9732</a></li>\n<li>Frontend dashboard: Search error types are now broken into distinct panels for improved visibility/legibility.</li>\n<li><strong>IMPORTANT</strong>: If you have previously configured alerting on any of these panels or on “hard search errors”, you will need to reconfigure it after upgrading.</li>\n<li>Frontend dashboard: Search error and latency are now broken down by type: Browser requests, search-based code intel requests, and API requests.</li>\n</ul>\n</li>\n<li>\n<p>Observability (debugging): <strong>Distributed tracing is a powerful tool for investigating performance issues.</strong> The following changes have been made with the goal of making it easier to use distributed tracing with Sourcegraph:</p>\n<ul>\n<li>The site configuration field <code class=\"language-text\">&quot;observability.tracing&quot;: { &quot;sampling&quot;: &quot;...&quot; }</code> allows a site admin to control which requests generate tracing data.</li>\n<li><code class=\"language-text\">&quot;all&quot;</code> will trace all requests.</li>\n<li><code class=\"language-text\">&quot;selective&quot;</code> (recommended) will trace all requests initiated from an end-user URL with <code class=\"language-text\">?trace=1</code>. Non-end-user-initiated requests can set a HTTP header <code class=\"language-text\">X-Sourcegraph-Should-Trace: true</code>. This is the recommended setting, as <code class=\"language-text\">&quot;all&quot;</code> can generate large amounts of tracing data that may cause network and memory resource contention in the Sourcegraph instance.</li>\n<li><code class=\"language-text\">&quot;none&quot;</code> (default) turns off tracing.</li>\n<li>Jaeger is now the officially supported distributed tracing system. The following is the recommended site configuration to connect Sourcegraph to a Jaeger agent (which must be deployed on the same host and listening on the default ports):</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;observability.tracing&quot;: {\n  &quot;sampling&quot;: &quot;selective&quot;\n}</code></pre></div>\n<ul>\n<li>Jaeger is now included in the Sourcegraph deployment configuration by default if you are using Kubernetes, Docker Compose, or the pure Docker cluster deployment model. It is not yet included in the single Docker container distribution. Jaeger will be included as part of upgrading to 3.15 in these deployment models, unless disabled.</li>\n<li>The site configuration field, <code class=\"language-text\">useJaeger</code>, is deprecated in favor of <code class=\"language-text\">observability.tracing</code>.</li>\n<li>Support for configuring Lightstep as a distributed tracer is deprecated and will be removed in a subsequent release. Instances that use Lightstep with Sourcegraph are encouraged to migrate to Jaeger (directions for running Jaeger alongside Sourcegraph are included in the installation instructions).</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Changed\" style=\"position:relative;\"><a href=\"#Changed\" aria-label=\"Changed permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Changed</h3>\n<ul>\n<li>\n<p>Multiple backwards-incompatible changes in the parts of the GraphQL API related to Campaigns <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9106\">#9106</a>:</p>\n<ul>\n<li><code class=\"language-text\">CampaignPlan.status</code> has been removed, since we don’t need it anymore after moving execution of campaigns to src CLI in <a href=\"https://github.com/sourcegraph/sourcegraph/pull/8008\">#8008</a>.</li>\n<li><code class=\"language-text\">CampaignPlan</code> has been renamed to <code class=\"language-text\">PatchSet</code>.</li>\n<li><code class=\"language-text\">ChangesetPlan</code>/<code class=\"language-text\">ChangesetPlanConnection</code> has been renamed to <code class=\"language-text\">Patch</code>/<code class=\"language-text\">PatchConnection</code>.</li>\n<li><code class=\"language-text\">CampaignPlanPatch</code> has been renamed to <code class=\"language-text\">PatchInput</code>.</li>\n<li><code class=\"language-text\">Campaign.plan</code> has been renamed to <code class=\"language-text\">Campaign.patchSet</code>.</li>\n<li><code class=\"language-text\">Campaign.changesetPlans</code> has been renamed to <code class=\"language-text\">campaign.changesetPlan</code>.</li>\n<li><code class=\"language-text\">createCampaignPlanFromPatches</code> mutation has been renamed to <code class=\"language-text\">createPatchSetFromPatches</code>.</li>\n</ul>\n</li>\n<li>Removed the scoped search field on tree pages. When browsing code, the global search query will now get scoped to the current tree or file. <a href=\"https://github.com/sourcegraph/sourcegraph/pull/9225\">#9225</a></li>\n<li>Instances without a license key that exceed the published user limit will now display a notice to all users.</li>\n</ul>\n<h3 id=\"Fixed\" style=\"position:relative;\"><a href=\"#Fixed\" aria-label=\"Fixed permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Fixed</h3>\n<ul>\n<li><code class=\"language-text\">.*</code> in the filter pattern were ignored and led to missing search results. <a href=\"https://github.com/sourcegraph/sourcegraph/pull/9152\">#9152</a></li>\n<li>The Phabricator integration no longer makes duplicate requests to Phabricator’s API on diff views. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/8849\">#8849</a></li>\n<li>Changesets on repositories that aren’t available on the instance anymore are now hidden instead of failing. <a href=\"https://github.com/sourcegraph/sourcegraph/pull/9656\">#9656</a></li>\n<li>\n<p>Observability (monitoring):</p>\n<ul>\n<li><strong>Dashboard and alerting bug fixes</strong></li>\n<li>Syntect Server dashboard: “Worker timeouts” can no longer appear to go negative. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9523\">#9523</a></li>\n<li>Symbols dashboard: “Store fetch queue size” can no longer appear to go negative. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9731\">#9731</a></li>\n<li>Syntect Server dashboard: “Worker timeouts” no longer incorrectly shows multiple values. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9524\">#9524</a></li>\n<li>Searcher dashboard: “Search errors on unindexed repositories” no longer includes cancelled search requests (which are expected).</li>\n<li>Fixed an issue where NaN could leak into the <code class=\"language-text\">alert_count</code> metric. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9832\">#9832</a></li>\n<li>Gitserver: “resolve<em>revision</em>duration_slow” alert is no longer flaky/non-deterministic. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9751\">#9751</a></li>\n<li>Git Server dashboard: There is now a panel to show concurrent command executions to match the defined alerts. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9354\">#9354</a></li>\n<li>Git Server dashboard: Adjusted the critical disk space alert to 15% so it can now fire. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9351\">#9351</a></li>\n<li><strong>Dashboard visiblity and legibility improvements</strong></li>\n<li>All: “frontend internal errors” are now broken down just by route, which makes reading the graph easier. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9668\">#9668</a></li>\n<li>Frontend dashboard: Panels no longer show misleading duplicate labels. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9660\">#9660</a></li>\n<li>Syntect Server dashboard: Panels are no longer compacted, for improved visibility. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9525\">#9525</a></li>\n<li>Frontend dashboard: Panels are no longer compacted, for improved visibility. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9356\">#9356</a></li>\n<li>Searcher dashboard: “Search errors on unindexed repositories” is now broken down by code instead of instance for improved readability. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9670\">#9670</a></li>\n<li>Symbols dashboard: Metrics are now aggregated instead of per-instance, for improved visibility. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9730\">#9730</a></li>\n<li>Firing alerts are now correctly sorted at the top of dashboards by default. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9766\">#9766</a></li>\n<li>Panels at the bottom of the home dashboard no longer appear clipped/cut off. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9768\">#9768</a></li>\n<li>Git Server dashboard: Disk usage now shown in percentages to match the alerts that can fire. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9352\">#9352</a></li>\n<li>Git Server dashboard: The ‘echo command duration test’ panel now properly displays units in seconds. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/7628\">#7628</a></li>\n<li>Dashboard panels showing firing alerts no longer over-count firing alerts due to the number of service replicas. <a href=\"https://github.com/sourcegraph/sourcegraph/issues/9353\">#9353</a></li>\n</ul>\n</li>\n</ul>\n<p>The <a href=\"https://github.com/sourcegraph/sourcegraph/blob/master/CHANGELOG.md#3.15\">changelog for this and previous releases</a> is available on GitHub.</p>\n<h2 id=\"Thank-you\" style=\"position:relative;\"><a href=\"#Thank-you\" aria-label=\"Thank you permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg></a>Thank you</h2>\n<p>Thank you to the many people who contributed to Sourcegraph since the last release!</p>\n<ul>\n<li><a href=\"https://github.com/francisjeanneau\">@francisjeanneau</a></li>\n<li><a href=\"https://github.com/craffert0\">@craffert0</a></li>\n<li><a href=\"https://github.com/carloslfu\">@carloslfu</a></li>\n<li><a href=\"https://github.com/bastiankoetsier\">@bastiankoetsier</a></li>\n<li><a href=\"https://github.com/aisbaa\">@aisbaa</a></li>\n<li><a href=\"https://github.com/mofr\">@mofr</a></li>\n<li><a href=\"https://github.com/Akarshit\">@Akarshit</a></li>\n<li><a href=\"https://github.com/maxhallinan\">@maxhallinan</a></li>\n<li><a href=\"https://github.com/Warchant\">@Warchant</a></li>\n<li><a href=\"https://github.com/amarsiingh\">@amarsiingh</a></li>\n<li><a href=\"https://github.com/KGmajor\">@KGmajor</a></li>\n<li><a href=\"https://github.com/remcoros\">@remcoros</a></li>\n<li><a href=\"https://github.com/dwgillies\">@dwgillies</a></li>\n<li><a href=\"https://github.com/shyim\">@shyim</a></li>\n<li><a href=\"https://github.com/mntky\">@mntky</a></li>\n<li><a href=\"https://github.com/shadyabhi\">@shadyabhi</a></li>\n<li><a href=\"https://github.com/Antoine98\">@Antoine98</a></li>\n<li><a href=\"https://github.com/JoshuaKGoldberg\">@JoshuaKGoldberg</a></li>\n<li><a href=\"https://github.com/jlangston\">@jlangston</a></li>\n<li><a href=\"https://github.com/wangbinyq\">@wangbinyq</a></li>\n<li><a href=\"https://github.com/CSharperMantle\">@CSharperMantle</a></li>\n<li><a href=\"https://github.com/danielpops\">@danielpops</a></li>\n<li><a href=\"https://github.com/khoslaventures\">@khoslaventures</a></li>\n<li><a href=\"https://github.com/sixhobbits\">@sixhobbits</a></li>\n<li><a href=\"https://github.com/zgrimshell\">@zgrimshell</a></li>\n<li><a href=\"https://github.com/wrakky\">@wrakky</a></li>\n<li><a href=\"https://github.com/caarlos0\">@caarlos0</a></li>\n<li><a href=\"https://github.com/DoomGerbil\">@DoomGerbil</a></li>\n<li><a href=\"https://github.com/nathanverrilli\">@nathanverrilli</a></li>\n<li><a href=\"https://github.com/yaohui-wyh\">@yaohui-wyh</a></li>\n<li><a href=\"https://github.com/abeyerpath\">@abeyerpath</a></li>\n<li><a href=\"https://github.com/saurabh-hirani\">@saurabh-hirani</a></li>\n<li><a href=\"https://github.com/marco-c\">@marco-c</a></li>\n<li><a href=\"https://github.com/gbrik\">@gbrik</a></li>\n<li><a href=\"https://github.com/benhansenslc\">@benhansenslc</a></li>\n<li><a href=\"https://github.com/Reagankm\">@Reagankm</a></li>\n</ul>\n<p><strong>Deploy or upgrade:</strong> <a href=\"https://docs.sourcegraph.com/#quickstart-guide\">Local</a> | <a href=\"https://github.com/sourcegraph/deploy-sourcegraph-aws\">AWS</a> | <a href=\"https://marketplace.digitalocean.com/apps/sourcegraph?action=deploy&#x26;refcode=48dfb3ccb51c\">DigitalOcean</a> | <a href=\"https://github.com/sourcegraph/deploy-sourcegraph\">Kubernetes cluster</a></p>\n<p>From the entire Sourcegraph team (<a href=\"https://twitter.com/sourcegraph\">@sourcegraph</a>), happy coding!</p>"}