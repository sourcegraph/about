{"expireTime":9007200905234243000,"key":"transformer-remark-markdown-ast-4d64b76b2163dbdd78fbadd5dd0a6b1d-gatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-unwrap-imagesgatsby-remark-imagesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"The steps to identify and fix/mitigate the ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":44,"offset":44},"indent":[]}},{"type":"link","title":null,"url":"https://nvd.nist.gov/vuln/detail/CVE-2021-44228","children":[{"type":"text","value":"Log4j 0-day (CVE-2021-44228)","position":{"start":{"line":2,"column":45,"offset":45},"end":{"line":2,"column":73,"offset":73},"indent":[]}}],"position":{"start":{"line":2,"column":44,"offset":44},"end":{"line":2,"column":123,"offset":123},"indent":[]}},{"type":"text","value":" (“Log4Shell”) in your code have been widely reported (","position":{"start":{"line":2,"column":123,"offset":123},"end":{"line":2,"column":178,"offset":178},"indent":[]}},{"type":"link","title":null,"url":"https://www.lunasec.io/docs/blog/log4j-zero-day/","children":[{"type":"text","value":"1","position":{"start":{"line":2,"column":179,"offset":179},"end":{"line":2,"column":180,"offset":180},"indent":[]}}],"position":{"start":{"line":2,"column":178,"offset":178},"end":{"line":2,"column":231,"offset":231},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":2,"column":231,"offset":231},"end":{"line":2,"column":232,"offset":232},"indent":[]}},{"type":"link","title":null,"url":"https://logging.apache.org/log4j/2.x/security.html","children":[{"type":"text","value":"2","position":{"start":{"line":2,"column":233,"offset":233},"end":{"line":2,"column":234,"offset":234},"indent":[]}}],"position":{"start":{"line":2,"column":232,"offset":232},"end":{"line":2,"column":287,"offset":287},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":2,"column":287,"offset":287},"end":{"line":2,"column":288,"offset":288},"indent":[]}},{"type":"link","title":null,"url":"https://www.reddit.com/r/blueteamsec/comments/rd38z9/log4j_0day_being_exploited/","children":[{"type":"text","value":"3","position":{"start":{"line":2,"column":289,"offset":289},"end":{"line":2,"column":290,"offset":290},"indent":[]}}],"position":{"start":{"line":2,"column":288,"offset":288},"end":{"line":2,"column":373,"offset":373},"indent":[]}},{"type":"text","value":"). But the steps are manual and tedious, and it’s hard to track the progress of fixes/mitigations across all your code. To help, we’re publishing queries, scripts, and instructions for using code search to:","position":{"start":{"line":2,"column":373,"offset":373},"end":{"line":2,"column":579,"offset":579},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":579,"offset":579},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Find everywhere Log4j is used across all your code","position":{"start":{"line":4,"column":3,"offset":583},"end":{"line":4,"column":53,"offset":633},"indent":[]}}],"position":{"start":{"line":4,"column":3,"offset":583},"end":{"line":4,"column":53,"offset":633},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":581},"end":{"line":4,"column":53,"offset":633},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Automate PRs to fix/mitigate the Log4j 0-day across all your code","position":{"start":{"line":5,"column":3,"offset":636},"end":{"line":5,"column":68,"offset":701},"indent":[]}}],"position":{"start":{"line":5,"column":3,"offset":636},"end":{"line":5,"column":68,"offset":701},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":634},"end":{"line":5,"column":68,"offset":701},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Track progress of applying fixes/mitigations for the Log4j 0-day","position":{"start":{"line":6,"column":3,"offset":704},"end":{"line":6,"column":67,"offset":768},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":704},"end":{"line":6,"column":67,"offset":768},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":702},"end":{"line":6,"column":67,"offset":768},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":581},"end":{"line":6,"column":67,"offset":768},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"We’ve documented how to do these things in Sourcegraph below and will be adding instructions (where possible) soon for other code search tools.","position":{"start":{"line":8,"column":1,"offset":770},"end":{"line":8,"column":144,"offset":913},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":770},"end":{"line":8,"column":144,"offset":913},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#Find-everywhere-Log4j-is-used-across-all-your-code","title":null,"children":[],"data":{"hProperties":{"aria-label":"Find everywhere Log4j is used across all your code permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]}},{"type":"text","value":"Find everywhere Log4j is used across all your code","position":{"start":{"line":10,"column":4,"offset":918},"end":{"line":10,"column":54,"offset":968},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":915},"end":{"line":10,"column":54,"offset":968},"indent":[]},"data":{"id":"Find-everywhere-Log4j-is-used-across-all-your-code","htmlAttributes":{"id":"Find-everywhere-Log4j-is-used-across-all-your-code"},"hProperties":{"id":"Find-everywhere-Log4j-is-used-across-all-your-code","style":"position:relative;"}}},{"type":"html","value":"<div style=\"position: relative; padding-bottom: 51.18483412322274%; height: 0;\"><iframe src=\"https://www.loom.com/embed/46094880c87844958d74ef28b1d76719\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\"></iframe></div>","position":{"start":{"line":12,"column":1,"offset":970},"end":{"line":12,"column":315,"offset":1284},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#Getting-started-with-Sourcegraph","title":null,"children":[],"data":{"hProperties":{"aria-label":"Getting started with Sourcegraph permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]}},{"type":"text","value":"Getting started with Sourcegraph","position":{"start":{"line":14,"column":4,"offset":1289},"end":{"line":14,"column":36,"offset":1321},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":1286},"end":{"line":14,"column":36,"offset":1321},"indent":[]},"data":{"id":"Getting-started-with-Sourcegraph","htmlAttributes":{"id":"Getting-started-with-Sourcegraph"},"hProperties":{"id":"Getting-started-with-Sourcegraph","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"Free accounts on ","position":{"start":{"line":16,"column":1,"offset":1323},"end":{"line":16,"column":18,"offset":1340},"indent":[]}},{"type":"link","title":null,"url":"https://sourcegraph.com","children":[{"type":"text","value":"Sourcegraph Cloud","position":{"start":{"line":16,"column":19,"offset":1341},"end":{"line":16,"column":36,"offset":1358},"indent":[]}}],"position":{"start":{"line":16,"column":18,"offset":1340},"end":{"line":16,"column":62,"offset":1384},"indent":[]}},{"type":"text","value":" allow you to search your org private code from GitHub.com and GitLab.com. You can choose which orgs and repositories to sync when signing up or later by visiting ","position":{"start":{"line":16,"column":62,"offset":1384},"end":{"line":16,"column":225,"offset":1547},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"Settings > Account > Your repositories","position":{"start":{"line":16,"column":227,"offset":1549},"end":{"line":16,"column":265,"offset":1587},"indent":[]}}],"position":{"start":{"line":16,"column":225,"offset":1547},"end":{"line":16,"column":267,"offset":1589},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":16,"column":267,"offset":1589},"end":{"line":16,"column":268,"offset":1590},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1323},"end":{"line":16,"column":268,"offset":1590},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To use Batch Changes and Code Insights to apply mass fixes and track progress, or if you want to run it on your own laptop or infrastructure, ","position":{"start":{"line":18,"column":1,"offset":1592},"end":{"line":18,"column":143,"offset":1734},"indent":[]}},{"type":"link","title":null,"url":"https://docs.sourcegraph.com/#getting-started","children":[{"type":"text","value":"set up a self-hosted Sourcegraph instance","position":{"start":{"line":18,"column":144,"offset":1735},"end":{"line":18,"column":185,"offset":1776},"indent":[]}}],"position":{"start":{"line":18,"column":143,"offset":1734},"end":{"line":18,"column":233,"offset":1824},"indent":[]}},{"type":"text","value":". These features are usually part of an enterprise plan, but we’re giving out temporary license keys to use these features for Log4j-related fixes. Email ","position":{"start":{"line":18,"column":233,"offset":1824},"end":{"line":18,"column":387,"offset":1978},"indent":[]}},{"type":"link","title":null,"url":"mailto:log4j-incident-response-help@sourcegraph.com","children":[{"type":"text","value":"log4j-incident-response-help@sourcegraph.com","position":{"start":{"line":18,"column":388,"offset":1979},"end":{"line":18,"column":432,"offset":2023},"indent":[]}}],"position":{"start":{"line":18,"column":387,"offset":1978},"end":{"line":18,"column":486,"offset":2077},"indent":[]}},{"type":"text","value":" and we’ll reply quickly with a temporary key.","position":{"start":{"line":18,"column":486,"offset":2077},"end":{"line":18,"column":532,"offset":2123},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1592},"end":{"line":18,"column":532,"offset":2123},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":20,"column":1,"offset":2125},"end":{"line":20,"column":4,"offset":2128},"indent":[]}},{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"Thanks to the following people for helping with this post: Rebecca Dodd, Eric Fritz, and Stephen Gutekanst.","position":{"start":{"line":22,"column":2,"offset":2131},"end":{"line":22,"column":109,"offset":2238},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":2130},"end":{"line":22,"column":110,"offset":2239},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":2130},"end":{"line":22,"column":110,"offset":2239},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":23,"column":1,"offset":2240}}}}