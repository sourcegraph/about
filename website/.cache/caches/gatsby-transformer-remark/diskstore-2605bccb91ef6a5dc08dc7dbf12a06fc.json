{"expireTime":9007200905229170000,"key":"transformer-remark-markdown-html-ast-a7bc34294824d066b73a45e2854c05f4-gatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-unwrap-imagesgatsby-remark-imagesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://research.swtch.com/vgo-mvs"},"children":[{"type":"text","value":"Minimal version selection","position":{"start":{"line":2,"column":2,"offset":2},"end":{"line":2,"column":27,"offset":27}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":64,"offset":64}}},{"type":"text","value":" is an idea that Russ Cox proposed for how to resolve the dependencies of ","position":{"start":{"line":2,"column":64,"offset":64},"end":{"line":2,"column":138,"offset":138}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/golang/go/wiki/Modules"},"children":[{"type":"text","value":"Go modules","position":{"start":{"line":2,"column":139,"offset":139},"end":{"line":2,"column":149,"offset":149}}}],"position":{"start":{"line":2,"column":138,"offset":138},"end":{"line":2,"column":193,"offset":193}}},{"type":"text","value":". When installing or updating dependencies, minimal version selection always selects the minimal (oldest) module version that satisfies the overall requirements of a build.","position":{"start":{"line":2,"column":193,"offset":193},"end":{"line":2,"column":365,"offset":365}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":365,"offset":365}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Minimal version selection has a lot of nice properties:","position":{"start":{"line":4,"column":1,"offset":367},"end":{"line":4,"column":56,"offset":422}}}],"position":{"start":{"line":4,"column":1,"offset":367},"end":{"line":4,"column":56,"offset":422}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It is simple to understand and implement.","position":{"start":{"line":6,"column":3,"offset":426},"end":{"line":6,"column":44,"offset":467}}}],"position":{"start":{"line":6,"column":1,"offset":424},"end":{"line":6,"column":44,"offset":467}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It is fast to compute because it avoids solving ","position":{"start":{"line":7,"column":3,"offset":470},"end":{"line":7,"column":51,"offset":518}}},{"type":"element","tagName":"a","properties":{"href":"https://research.swtch.com/version-sat"},"children":[{"type":"text","value":"Version-SAT","position":{"start":{"line":7,"column":52,"offset":519},"end":{"line":7,"column":63,"offset":530}}}],"position":{"start":{"line":7,"column":51,"offset":518},"end":{"line":7,"column":104,"offset":571}}},{"type":"text","value":", which is ","position":{"start":{"line":7,"column":104,"offset":571},"end":{"line":7,"column":115,"offset":582}}},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/NP-completeness"},"children":[{"type":"text","value":"NP-Complete","position":{"start":{"line":7,"column":116,"offset":583},"end":{"line":7,"column":127,"offset":594}}}],"position":{"start":{"line":7,"column":115,"offset":582},"end":{"line":7,"column":175,"offset":642}}},{"type":"text","value":".","position":{"start":{"line":7,"column":175,"offset":642},"end":{"line":7,"column":176,"offset":643}}}],"position":{"start":{"line":7,"column":1,"offset":468},"end":{"line":7,"column":176,"offset":643}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It produces high-fidelity builds by default because the Go dependencies that a user builds are as close as possible to the ones the author developed against.","position":{"start":{"line":8,"column":3,"offset":646},"end":{"line":8,"column":160,"offset":803}}}],"position":{"start":{"line":8,"column":1,"offset":644},"end":{"line":8,"column":160,"offset":803}}},{"type":"text","value":"\n"}],"position":{"start":{"line":6,"column":1,"offset":424},"end":{"line":8,"column":160,"offset":803}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Many other popular dependency managers, like NPM, prefer to install the ","position":{"start":{"line":10,"column":1,"offset":805},"end":{"line":10,"column":73,"offset":877}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"latest","position":{"start":{"line":10,"column":74,"offset":878},"end":{"line":10,"column":80,"offset":884}}}],"position":{"start":{"line":10,"column":73,"offset":877},"end":{"line":10,"column":81,"offset":885}}},{"type":"text","value":" version of dependencies by default. I will share a recent real-world example of the kind of pain that minimal version selection prevents.","position":{"start":{"line":10,"column":81,"offset":885},"end":{"line":10,"column":219,"offset":1023}}}],"position":{"start":{"line":10,"column":1,"offset":805},"end":{"line":10,"column":219,"offset":1023}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"Background","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#Background","aria-label":"Background permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]},{"type":"text","value":"Background","position":{"start":{"line":12,"column":4,"offset":1028},"end":{"line":12,"column":14,"offset":1038}}}],"position":{"start":{"line":12,"column":1,"offset":1025},"end":{"line":12,"column":14,"offset":1038}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sourcegraph recently ","position":{"start":{"line":14,"column":1,"offset":1040},"end":{"line":14,"column":22,"offset":1061}}},{"type":"element","tagName":"a","properties":{"href":"/blog/sourcegraph-browser-extensions-are-now-open-source"},"children":[{"type":"text","value":"open sourced our browser extensions","position":{"start":{"line":14,"column":23,"offset":1062},"end":{"line":14,"column":58,"offset":1097}}}],"position":{"start":{"line":14,"column":22,"offset":1061},"end":{"line":14,"column":117,"offset":1156}}},{"type":"text","value":", but before we could, I needed to remove a transitive Go dependency on our private icons NPM package that contains licensed assets.","position":{"start":{"line":14,"column":117,"offset":1156},"end":{"line":14,"column":249,"offset":1288}}}],"position":{"start":{"line":14,"column":1,"offset":1040},"end":{"line":14,"column":249,"offset":1288}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before:","position":{"start":{"line":16,"column":1,"offset":1290},"end":{"line":16,"column":8,"offset":1297}}}],"position":{"start":{"line":16,"column":1,"offset":1290},"end":{"line":16,"column":8,"offset":1297}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">github.com/sourcegraph/browser-extensions (open source)\n└─┬ @sourcegraph/codeintellify@3.5.3 (open source)\n  └── @sourcegraph/icons@1.15.0 (private)</code></pre></div>","position":{"start":{"line":18,"column":1,"offset":1299},"end":{"line":22,"column":4,"offset":1455}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Codeintellify provides hovertooltips on code. Both our web app and our browser extensions depend on it.","position":{"start":{"line":24,"column":1,"offset":1457},"end":{"line":24,"column":104,"offset":1560}}}],"position":{"start":{"line":24,"column":1,"offset":1457},"end":{"line":24,"column":104,"offset":1560}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The task of removing codeintellify’s dependency on our private icons repository was straightforward because it was only using a single loading spinner. All I needed to do was create ","position":{"start":{"line":26,"column":1,"offset":1562},"end":{"line":26,"column":183,"offset":1744}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/sourcegraph/react-loading-spinner"},"children":[{"type":"text","value":"a NPM package for our open source loading spinner","position":{"start":{"line":26,"column":184,"offset":1745},"end":{"line":26,"column":233,"offset":1794}}}],"position":{"start":{"line":26,"column":183,"offset":1744},"end":{"line":26,"column":288,"offset":1849}}},{"type":"text","value":", ","position":{"start":{"line":26,"column":288,"offset":1849},"end":{"line":26,"column":290,"offset":1851}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/sourcegraph/codeintellify/pull/33"},"children":[{"type":"text","value":"update codeintellify to use the new package","position":{"start":{"line":26,"column":291,"offset":1852},"end":{"line":26,"column":334,"offset":1895}}}],"position":{"start":{"line":26,"column":290,"offset":1851},"end":{"line":26,"column":389,"offset":1950}}},{"type":"text","value":", and finally update the browser extension to depend on the lastest version of codeintellify: 3.6.0","position":{"start":{"line":26,"column":389,"offset":1950},"end":{"line":26,"column":488,"offset":2049}}}],"position":{"start":{"line":26,"column":1,"offset":1562},"end":{"line":26,"column":488,"offset":2049}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After:","position":{"start":{"line":28,"column":1,"offset":2051},"end":{"line":28,"column":7,"offset":2057}}}],"position":{"start":{"line":28,"column":1,"offset":2051},"end":{"line":28,"column":7,"offset":2057}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">github.com/sourcegraph/browser-extensions (open source)\n└─┬ @sourcegraph/codeintellify@3.6.0 (open source)\n  └── @sourcegraph/react-loading-spinner@0.0.6 (open source)</code></pre></div>","position":{"start":{"line":30,"column":1,"offset":2059},"end":{"line":34,"column":4,"offset":2234}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Everything worked; mission accomplished!","position":{"start":{"line":36,"column":1,"offset":2236},"end":{"line":36,"column":41,"offset":2276}}}],"position":{"start":{"line":36,"column":1,"offset":2236},"end":{"line":36,"column":41,"offset":2276}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"Pain","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#Pain","aria-label":"Pain permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]},{"type":"text","value":"Pain","position":{"start":{"line":38,"column":4,"offset":2281},"end":{"line":38,"column":8,"offset":2285}}}],"position":{"start":{"line":38,"column":1,"offset":2278},"end":{"line":38,"column":8,"offset":2285}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://renovatebot.com/"},"children":[{"type":"text","value":"Renovate Bot","position":{"start":{"line":40,"column":2,"offset":2288},"end":{"line":40,"column":14,"offset":2300}}}],"position":{"start":{"line":40,"column":1,"offset":2287},"end":{"line":40,"column":41,"offset":2327}}},{"type":"text","value":" noticed that there was a new version of codeintellify so it helpfully created a pull request to update our main repository to codeintellify 3.6.0.","position":{"start":{"line":40,"column":41,"offset":2327},"end":{"line":40,"column":188,"offset":2474}}}],"position":{"start":{"line":40,"column":1,"offset":2287},"end":{"line":40,"column":188,"offset":2474}}},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"//images.ctfassets.net/le3mxztn6yoo/1WvaXnaw6sswcEWi4AAYak/e9bb9861c6edd7f8787b3633c79655a8/diff.png","alt":"diff"},"children":[],"position":{"start":{"line":42,"column":1,"offset":2476},"end":{"line":42,"column":110,"offset":2585}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After CI passed, another engineer merged the pull request. Soon thereafter, our end-to-end tests (that only run on master after deploying to our staging environment) started failing because hover tooltips, a core feature of Sourcegraph, were broken.","position":{"start":{"line":44,"column":1,"offset":2587},"end":{"line":44,"column":250,"offset":2836}}}],"position":{"start":{"line":44,"column":1,"offset":2587},"end":{"line":44,"column":250,"offset":2836}}},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"//images.ctfassets.net/le3mxztn6yoo/3hguLE62tiwS4gGac2qkiQ/2f2ccebe4540d6789d36ef0f79277952/error.png","alt":"error"},"children":[],"position":{"start":{"line":46,"column":1,"offset":2838},"end":{"line":46,"column":112,"offset":2949}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Fortunately, the end-to-end test failure blocked this from being deployed to sourcegraph.com.","position":{"start":{"line":48,"column":1,"offset":2951},"end":{"line":48,"column":94,"offset":3044}}}],"position":{"start":{"line":48,"column":1,"offset":2951},"end":{"line":48,"column":94,"offset":3044}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Since I was asleep at the time, and the breakage was apparently caused by codeintelify 3.6.0 (and transitively, me), my teammate just reverted the commit.","position":{"start":{"line":50,"column":1,"offset":3046},"end":{"line":50,"column":155,"offset":3200}}}],"position":{"start":{"line":50,"column":1,"offset":3046},"end":{"line":50,"column":155,"offset":3200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"When I arrived to work the next day, I was confused. What could have possibly gone wrong?","position":{"start":{"line":52,"column":1,"offset":3202},"end":{"line":52,"column":90,"offset":3291}}}],"position":{"start":{"line":52,"column":1,"offset":3202},"end":{"line":52,"column":90,"offset":3291}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Everything had worked fine when I integrated this library in our browser extensions.","position":{"start":{"line":54,"column":3,"offset":3295},"end":{"line":54,"column":87,"offset":3379}}}],"position":{"start":{"line":54,"column":1,"offset":3293},"end":{"line":54,"column":87,"offset":3379}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"There is not much opportunity to subtly break the site with 18 lines of CSS and 10 lines of TypeScript.","position":{"start":{"line":55,"column":3,"offset":3382},"end":{"line":55,"column":106,"offset":3485}}}],"position":{"start":{"line":55,"column":1,"offset":3380},"end":{"line":55,"column":106,"offset":3485}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The error message didn’t make any sense, and wasn’t related to anything I had done!","position":{"start":{"line":56,"column":3,"offset":3488},"end":{"line":56,"column":86,"offset":3571}}}],"position":{"start":{"line":56,"column":1,"offset":3486},"end":{"line":56,"column":86,"offset":3571}}},{"type":"text","value":"\n"}],"position":{"start":{"line":54,"column":1,"offset":3293},"end":{"line":56,"column":86,"offset":3571}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After scratching my head for a bit, I went back to look at the diff and realized that GitHub had helpfully auto-collapsed ","position":{"start":{"line":58,"column":1,"offset":3573},"end":{"line":58,"column":123,"offset":3695}}},{"type":"raw","value":"<code class=\"language-text\">package-lock.json</code>","position":{"start":{"line":58,"column":123,"offset":3695},"end":{"line":58,"column":142,"offset":3714}}},{"type":"text","value":". Of course I don’t need to see that; it is for machines, right?","position":{"start":{"line":58,"column":142,"offset":3714},"end":{"line":58,"column":206,"offset":3778}}}],"position":{"start":{"line":58,"column":1,"offset":3573},"end":{"line":58,"column":206,"offset":3778}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I expanded the diff and my heart sank.","position":{"start":{"line":60,"column":1,"offset":3780},"end":{"line":60,"column":39,"offset":3818}}}],"position":{"start":{"line":60,"column":1,"offset":3780},"end":{"line":60,"column":39,"offset":3818}}},{"type":"text","value":"\n"},{"type":"element","tagName":"img","properties":{"src":"//images.ctfassets.net/le3mxztn6yoo/51SpsPKFgQOE4QImMK0Wyc/dfb7cd0361006e3a1f9be166d5e55236/package-lock.png","alt":"package-lock"},"children":[],"position":{"start":{"line":62,"column":1,"offset":3820},"end":{"line":62,"column":126,"offset":3945}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"NPM had “helpfully” seen that there was a new patch release of sanitize-html and upgraded to the new version ","position":{"start":{"line":64,"column":1,"offset":3947},"end":{"line":64,"column":110,"offset":4056}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"even though sanitize-html had no relationship to the package that Renovate was updating","position":{"start":{"line":64,"column":112,"offset":4058},"end":{"line":64,"column":199,"offset":4145}}}],"position":{"start":{"line":64,"column":110,"offset":4056},"end":{"line":64,"column":201,"offset":4147}}},{"type":"text","value":".","position":{"start":{"line":64,"column":201,"offset":4147},"end":{"line":64,"column":202,"offset":4148}}}],"position":{"start":{"line":64,"column":1,"offset":3947},"end":{"line":64,"column":202,"offset":4148}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Worse, that “patch” version of sanitize-html was completely broken (","position":{"start":{"line":66,"column":1,"offset":4150},"end":{"line":66,"column":69,"offset":4218}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/punkave/sanitize-html/issues/241"},"children":[{"type":"text","value":"#241","position":{"start":{"line":66,"column":70,"offset":4219},"end":{"line":66,"column":74,"offset":4223}}}],"position":{"start":{"line":66,"column":69,"offset":4218},"end":{"line":66,"column":128,"offset":4277}}},{"type":"text","value":", ","position":{"start":{"line":66,"column":128,"offset":4277},"end":{"line":66,"column":130,"offset":4279}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/punkave/sanitize-html/issues/242"},"children":[{"type":"text","value":"#242","position":{"start":{"line":66,"column":131,"offset":4280},"end":{"line":66,"column":135,"offset":4284}}}],"position":{"start":{"line":66,"column":130,"offset":4279},"end":{"line":66,"column":189,"offset":4338}}},{"type":"text","value":").","position":{"start":{"line":66,"column":189,"offset":4338},"end":{"line":66,"column":191,"offset":4340}}}],"position":{"start":{"line":66,"column":1,"offset":4150},"end":{"line":66,"column":191,"offset":4340}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"Reflection","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#Reflection","aria-label":"Reflection permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]},{"type":"text","value":"Reflection","position":{"start":{"line":68,"column":4,"offset":4345},"end":{"line":68,"column":14,"offset":4355}}}],"position":{"start":{"line":68,"column":1,"offset":4342},"end":{"line":68,"column":14,"offset":4355}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I was upset. Not with sanitize-html though; people make mistakes. In fact, I assume that people will make mistakes (in this case the mistake was ","position":{"start":{"line":70,"column":1,"offset":4357},"end":{"line":70,"column":146,"offset":4502}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/punkave/sanitize-html/pull/244"},"children":[{"type":"text","value":"quickly fixed in 1.18.4","position":{"start":{"line":70,"column":147,"offset":4503},"end":{"line":70,"column":170,"offset":4526}}}],"position":{"start":{"line":70,"column":146,"offset":4502},"end":{"line":70,"column":222,"offset":4578}}},{"type":"text","value":", and I was able to move on with my life).","position":{"start":{"line":70,"column":222,"offset":4578},"end":{"line":70,"column":264,"offset":4620}}}],"position":{"start":{"line":70,"column":1,"offset":4357},"end":{"line":70,"column":264,"offset":4620}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I was upset because the design of NPM assumes things that just aren’t true in general:","position":{"start":{"line":72,"column":1,"offset":4622},"end":{"line":72,"column":87,"offset":4708}}}],"position":{"start":{"line":72,"column":1,"offset":4622},"end":{"line":72,"column":87,"offset":4708}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"People don’t make mistakes.","position":{"start":{"line":74,"column":3,"offset":4712},"end":{"line":74,"column":30,"offset":4739}}}],"position":{"start":{"line":74,"column":1,"offset":4710},"end":{"line":74,"column":30,"offset":4739}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"People perfectly understand and apply ","position":{"start":{"line":75,"column":3,"offset":4742},"end":{"line":75,"column":41,"offset":4780}}},{"type":"element","tagName":"a","properties":{"href":"https://semver.org/"},"children":[{"type":"text","value":"semantic versioning","position":{"start":{"line":75,"column":42,"offset":4781},"end":{"line":75,"column":61,"offset":4800}}}],"position":{"start":{"line":75,"column":41,"offset":4780},"end":{"line":75,"column":83,"offset":4822}}},{"type":"text","value":" (see also: ","position":{"start":{"line":75,"column":83,"offset":4822},"end":{"line":75,"column":95,"offset":4834}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/staltz/comver#why-use-compatible-versioning"},"children":[{"type":"text","value":"compatible versioning","position":{"start":{"line":75,"column":96,"offset":4835},"end":{"line":75,"column":117,"offset":4856}}}],"position":{"start":{"line":75,"column":95,"offset":4834},"end":{"line":75,"column":182,"offset":4921}}},{"type":"text","value":").","position":{"start":{"line":75,"column":182,"offset":4921},"end":{"line":75,"column":184,"offset":4923}}}],"position":{"start":{"line":75,"column":1,"offset":4740},"end":{"line":75,"column":184,"offset":4923}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Having the ecosystem converge to the latest dependency versions as fast as possible is more important that the stability of individual projects.","position":{"start":{"line":76,"column":3,"offset":4926},"end":{"line":76,"column":147,"offset":5070}}}],"position":{"start":{"line":76,"column":1,"offset":4924},"end":{"line":76,"column":147,"offset":5070}}},{"type":"text","value":"\n"}],"position":{"start":{"line":74,"column":1,"offset":4710},"end":{"line":76,"column":147,"offset":5070}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To the contrary, I expect NPM and tools like it to:","position":{"start":{"line":78,"column":1,"offset":5072},"end":{"line":78,"column":52,"offset":5123}}}],"position":{"start":{"line":78,"column":1,"offset":5072},"end":{"line":78,"column":52,"offset":5123}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Assume that people (including myself) will make mistakes and do as much as possible to guard against those mistakes.","position":{"start":{"line":80,"column":3,"offset":5127},"end":{"line":80,"column":119,"offset":5243}}}],"position":{"start":{"line":80,"column":1,"offset":5125},"end":{"line":80,"column":119,"offset":5243}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Optimize for ","position":{"start":{"line":81,"column":3,"offset":5246},"end":{"line":81,"column":16,"offset":5259}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"working","position":{"start":{"line":81,"column":17,"offset":5260},"end":{"line":81,"column":24,"offset":5267}}}],"position":{"start":{"line":81,"column":16,"offset":5259},"end":{"line":81,"column":25,"offset":5268}}},{"type":"text","value":" dependencies (i.e. the ones I am already using and have tested), not the ","position":{"start":{"line":81,"column":25,"offset":5268},"end":{"line":81,"column":99,"offset":5342}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"latest","position":{"start":{"line":81,"column":100,"offset":5343},"end":{"line":81,"column":106,"offset":5349}}}],"position":{"start":{"line":81,"column":99,"offset":5342},"end":{"line":81,"column":107,"offset":5350}}},{"type":"text","value":" dependencies.","position":{"start":{"line":81,"column":107,"offset":5350},"end":{"line":81,"column":121,"offset":5364}}}],"position":{"start":{"line":81,"column":1,"offset":5244},"end":{"line":81,"column":121,"offset":5364}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Not update a dependency unless I explicitly ask it to (","position":{"start":{"line":82,"column":3,"offset":5367},"end":{"line":82,"column":58,"offset":5422}}},{"type":"element","tagName":"a","properties":{"href":"https://npm.community/t/impossible-to-update-single-package-without-updating-its-dependencies/1156"},"children":[{"type":"text","value":"#1156","position":{"start":{"line":82,"column":59,"offset":5423},"end":{"line":82,"column":64,"offset":5428}}}],"position":{"start":{"line":82,"column":58,"offset":5422},"end":{"line":82,"column":165,"offset":5529}}},{"type":"text","value":", ","position":{"start":{"line":82,"column":165,"offset":5529},"end":{"line":82,"column":167,"offset":5531}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/renovatebot/renovate/issues/2348"},"children":[{"type":"text","value":"#2348","position":{"start":{"line":82,"column":168,"offset":5532},"end":{"line":82,"column":173,"offset":5537}}}],"position":{"start":{"line":82,"column":167,"offset":5531},"end":{"line":82,"column":227,"offset":5591}}},{"type":"text","value":").","position":{"start":{"line":82,"column":227,"offset":5591},"end":{"line":82,"column":229,"offset":5593}}}],"position":{"start":{"line":82,"column":1,"offset":5365},"end":{"line":82,"column":229,"offset":5593}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Make lockfiles less cumbersome. Lockfiles should:","position":{"start":{"line":83,"column":3,"offset":5596},"end":{"line":83,"column":52,"offset":5645}}}],"position":{"start":{"line":83,"column":3,"offset":5596},"end":{"line":83,"column":52,"offset":5645}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Work cross-platform (","position":{"start":{"line":84,"column":5,"offset":5650},"end":{"line":84,"column":26,"offset":5671}}},{"type":"element","tagName":"a","properties":{"href":"https://npm.community/t/package-lock-json-keeps-changing-between-platforms-and-runs/1129"},"children":[{"type":"text","value":"#1129","position":{"start":{"line":84,"column":27,"offset":5672},"end":{"line":84,"column":32,"offset":5677}}}],"position":{"start":{"line":84,"column":26,"offset":5671},"end":{"line":84,"column":123,"offset":5768}}},{"type":"text","value":", ","position":{"start":{"line":84,"column":123,"offset":5768},"end":{"line":84,"column":125,"offset":5770}}},{"type":"element","tagName":"a","properties":{"href":"https://npm.community/t/package-lock-json-changes-from-one-npm-install-to-the-next/1454"},"children":[{"type":"text","value":"#1454","position":{"start":{"line":84,"column":126,"offset":5771},"end":{"line":84,"column":131,"offset":5776}}}],"position":{"start":{"line":84,"column":125,"offset":5770},"end":{"line":84,"column":221,"offset":5866}}},{"type":"text","value":").","position":{"start":{"line":84,"column":221,"offset":5866},"end":{"line":84,"column":223,"offset":5868}}}],"position":{"start":{"line":84,"column":3,"offset":5648},"end":{"line":84,"column":223,"offset":5868}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Not ","position":{"start":{"line":85,"column":5,"offset":5873},"end":{"line":85,"column":9,"offset":5877}}},{"type":"element","tagName":"a","properties":{"href":"https://stackoverflow.com/questions/47638381/why-did-package-lock-json-change-the-integrity-hash-from-sha1-to-sha512"},"children":[{"type":"text","value":"change frequently","position":{"start":{"line":85,"column":10,"offset":5878},"end":{"line":85,"column":27,"offset":5895}}}],"position":{"start":{"line":85,"column":9,"offset":5877},"end":{"line":85,"column":146,"offset":6014}}},{"type":"text","value":".","position":{"start":{"line":85,"column":146,"offset":6014},"end":{"line":85,"column":147,"offset":6015}}}],"position":{"start":{"line":85,"column":3,"offset":5871},"end":{"line":85,"column":147,"offset":6015}}},{"type":"text","value":"\n"}],"position":{"start":{"line":84,"column":3,"offset":5648},"end":{"line":85,"column":147,"offset":6015}}},{"type":"text","value":"\n"}],"position":{"start":{"line":83,"column":1,"offset":5594},"end":{"line":85,"column":147,"offset":6015}}},{"type":"text","value":"\n"}],"position":{"start":{"line":80,"column":1,"offset":5125},"end":{"line":85,"column":147,"offset":6015}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This experience was the most benign manifestation of this problem. It would have been worse if any or all of the following were true:","position":{"start":{"line":87,"column":1,"offset":6017},"end":{"line":87,"column":134,"offset":6150}}}],"position":{"start":{"line":87,"column":1,"offset":6017},"end":{"line":87,"column":134,"offset":6150}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"My change was more complicated.","position":{"start":{"line":89,"column":3,"offset":6154},"end":{"line":89,"column":34,"offset":6185}}}],"position":{"start":{"line":89,"column":1,"offset":6152},"end":{"line":89,"column":34,"offset":6185}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The aggregate diff between codeintellify 3.5.3 and 3.6.0 included other changes that weren’t mine.","position":{"start":{"line":90,"column":3,"offset":6188},"end":{"line":90,"column":101,"offset":6286}}}],"position":{"start":{"line":90,"column":1,"offset":6186},"end":{"line":90,"column":101,"offset":6286}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The aggregate diff between sanitize-html 1.18.2 and 1.18.3 was larger.","position":{"start":{"line":91,"column":3,"offset":6289},"end":{"line":91,"column":73,"offset":6359}}}],"position":{"start":{"line":91,"column":1,"offset":6287},"end":{"line":91,"column":73,"offset":6359}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"sanitize-html didn’t quickly release a patch to fix the issue.","position":{"start":{"line":92,"column":3,"offset":6362},"end":{"line":92,"column":65,"offset":6424}}}],"position":{"start":{"line":92,"column":1,"offset":6360},"end":{"line":92,"column":65,"offset":6424}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"sanitize-html had transitive dependencies that were also updated.","position":{"start":{"line":93,"column":3,"offset":6427},"end":{"line":93,"column":68,"offset":6492}}}],"position":{"start":{"line":93,"column":1,"offset":6425},"end":{"line":93,"column":68,"offset":6492}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"NPM had updated more than one unrelated package.","position":{"start":{"line":94,"column":3,"offset":6495},"end":{"line":94,"column":51,"offset":6543}}}],"position":{"start":{"line":94,"column":1,"offset":6493},"end":{"line":94,"column":51,"offset":6543}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Tests didn’t catch the regression and my change was deployed to production.","position":{"start":{"line":95,"column":3,"offset":6546},"end":{"line":95,"column":78,"offset":6621}}}],"position":{"start":{"line":95,"column":1,"offset":6544},"end":{"line":95,"column":78,"offset":6621}}},{"type":"text","value":"\n"}],"position":{"start":{"line":89,"column":1,"offset":6152},"end":{"line":95,"column":78,"offset":6621}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I am happy that this class of dependency problem won’t exist with Go modules, and I hope that other package managers evolve to solve these problems.","position":{"start":{"line":97,"column":1,"offset":6623},"end":{"line":97,"column":149,"offset":6771}}}],"position":{"start":{"line":97,"column":1,"offset":6623},"end":{"line":97,"column":149,"offset":6771}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"Thanks","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#Thanks","aria-label":"Thanks permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]},{"type":"text","value":"Thanks","position":{"start":{"line":99,"column":4,"offset":6776},"end":{"line":99,"column":10,"offset":6782}}}],"position":{"start":{"line":99,"column":1,"offset":6773},"end":{"line":99,"column":10,"offset":6782}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Special thanks to Felix (","position":{"start":{"line":101,"column":1,"offset":6784},"end":{"line":101,"column":26,"offset":6809}}},{"type":"element","tagName":"a","properties":{"href":"https://twitter.com/felixfbecker"},"children":[{"type":"text","value":"@felixfbecker","position":{"start":{"line":101,"column":27,"offset":6810},"end":{"line":101,"column":40,"offset":6823}}}],"position":{"start":{"line":101,"column":26,"offset":6809},"end":{"line":101,"column":75,"offset":6858}}},{"type":"text","value":") for ensuring that end-to-end tests must pass on staging before deploying to sourcegraph.com, discussing minimal version selection with me, authoring ","position":{"start":{"line":101,"column":75,"offset":6858},"end":{"line":101,"column":226,"offset":7009}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/sourcegraph/create"},"children":[{"type":"text","value":"a tool to create new NPM packages with the right boilerplate","position":{"start":{"line":101,"column":227,"offset":7010},"end":{"line":101,"column":287,"offset":7070}}}],"position":{"start":{"line":101,"column":226,"offset":7009},"end":{"line":101,"column":327,"offset":7110}}},{"type":"text","value":", searching for workarounds to get the behavior I want out of npm, and ultimately filing detailed issues to drive change in the ecosystem (","position":{"start":{"line":101,"column":327,"offset":7110},"end":{"line":101,"column":466,"offset":7249}}},{"type":"element","tagName":"a","properties":{"href":"https://npm.community/t/impossible-to-update-single-package-without-updating-its-dependencies/1156"},"children":[{"type":"text","value":"#1156","position":{"start":{"line":101,"column":467,"offset":7250},"end":{"line":101,"column":472,"offset":7255}}}],"position":{"start":{"line":101,"column":466,"offset":7249},"end":{"line":101,"column":573,"offset":7356}}},{"type":"text","value":", ","position":{"start":{"line":101,"column":573,"offset":7356},"end":{"line":101,"column":575,"offset":7358}}},{"type":"element","tagName":"a","properties":{"href":"https://github.com/renovatebot/renovate/issues/2348"},"children":[{"type":"text","value":"#2348","position":{"start":{"line":101,"column":576,"offset":7359},"end":{"line":101,"column":581,"offset":7364}}}],"position":{"start":{"line":101,"column":575,"offset":7358},"end":{"line":101,"column":635,"offset":7418}}},{"type":"text","value":").","position":{"start":{"line":101,"column":635,"offset":7418},"end":{"line":101,"column":637,"offset":7420}}}],"position":{"start":{"line":101,"column":1,"offset":6784},"end":{"line":101,"column":637,"offset":7420}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"More-posts-like-this","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#More-posts-like-this","aria-label":"More posts like this permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 18 95 120\" height=\"18\" width=\"18\"><path d=\"M53.69,78.7H37.94l-5.85,25H21.74l5.85-25H15.89L18,69.1H29.84l4.65-19.65H23.39l2.1-9.6H36.74l5.7-23.7H52.79l-5.7,23.7H62.84l5.7-23.7H78.89l-5.7,23.7H84.74l-2.4,9.6H70.94L66.29,69.1H77.24l-2.4,9.6H64l-5.85,25H47.84Zm-13.5-9.6H55.94l4.65-19.65H44.84Z\"/></svg>"}]},{"type":"text","value":"More posts like this","position":{"start":{"line":103,"column":4,"offset":7425},"end":{"line":103,"column":24,"offset":7445}}}],"position":{"start":{"line":103,"column":1,"offset":7422},"end":{"line":103,"column":25,"offset":7446}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://about.sourcegraph.com/blog/nine-circles-of-dependency-hell/"},"children":[{"type":"text","value":"The Nine Circles of Dependency Hell (and a roadmap out)","position":{"start":{"line":105,"column":4,"offset":7451},"end":{"line":105,"column":59,"offset":7506}}}],"position":{"start":{"line":105,"column":3,"offset":7450},"end":{"line":105,"column":129,"offset":7576}}}],"position":{"start":{"line":105,"column":1,"offset":7448},"end":{"line":105,"column":129,"offset":7576}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://about.sourcegraph.com/blog/how-not-to-break-a-search-engine-unglamorous-engineering/"},"children":[{"type":"text","value":"How not to break a search engine or: What I learned about unglamorous engineering","position":{"start":{"line":106,"column":4,"offset":7580},"end":{"line":106,"column":85,"offset":7661}}}],"position":{"start":{"line":106,"column":3,"offset":7579},"end":{"line":106,"column":180,"offset":7756}}}],"position":{"start":{"line":106,"column":1,"offset":7577},"end":{"line":106,"column":180,"offset":7756}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://about.sourcegraph.com/blog/optimizing-a-code-intel-commit-graph/"},"children":[{"type":"text","value":"Optimizing a code intelligence commit graph","position":{"start":{"line":107,"column":4,"offset":7760},"end":{"line":107,"column":47,"offset":7803}}}],"position":{"start":{"line":107,"column":3,"offset":7759},"end":{"line":107,"column":122,"offset":7878}}}],"position":{"start":{"line":107,"column":1,"offset":7757},"end":{"line":107,"column":122,"offset":7878}}},{"type":"text","value":"\n"}],"position":{"start":{"line":105,"column":1,"offset":7448},"end":{"line":107,"column":122,"offset":7878}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":108,"column":1,"offset":7879}}}}